<?xml version="1.0" encoding="utf-8"?>

<odoo>

<report id = "report_engagement_new"
    string = "Engagement niveau paragraphe"
    model = "budg_engagement"
    report_type = "qweb-html"
    file = "erp_budget.report_engagement_new"
    name = "erp_budget.report_engagement_view_new"
	print_report_name="'ENGAGEMENT - %s' % (object.no_eng)"
    menu = "True"/>


<template id="report_engagement_view_new">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h2 class="solid">BON D'ENGAGEMENT DE DEPENSE</h2>
                     <strong>Référence bon d'engagement :</strong> <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_eng"/> du <span t-field="o.dt_etat"/>
               	<br/>
               	
               
               <div>
               	<div class="g">
                <table>
               	<th style ="border : 2px solid #000000; text-align:center;" colspan="5">Imputation</th>
               
               <tr>
	               	<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Sect</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Art</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
               	</tr>
               	
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
            
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>

               </table>
               </div>
	            
	               <div class="d">
	                 <table>
		               <thead>
		                	<th style ="border : 1px solid #000000; width:250px; text-align:center;">VISA CONTROLE</th>
		               </thead>
		               <tbody>
		                    <tr style="height:150px; width:250px;"><td style="height:150px;"></td></tr>
		               </tbody>
		             </table>
	               </div>
               </div>
               
               <br/>
				

               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
                        }
                        
                        .d {
                        	float : right;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        
                        td {
                            border : 1px solid black;
                            text-align : center;
                            font-family : Times New Roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #dddddd;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	
                        }
                        
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : Times New  Roman !important;
								font-size:small;
								border : 0px solid black;
								text-indent : 10px;
								
								}
                    </style>
               </head>
				<br/>
                <table style ="width:100%;">


                        <thead>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px; text-align:center; font-size:small;">Crédits ouverts</th>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px;text-align:center; font-size:small;">Cumul des engagements antérieurs</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Crédits disponibles</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Présent engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Total des engagements</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Nouveau disponible</th>
                        </thead> 
                          
                        <tbody>                  
                            <td><span t-field="o.credit_eng" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.cumul)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.credit_disponible)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.mnt_eng)).replace(',', ' ')" style = "text-align:center; font-size:small;"/> </td>
                            <td><span t-esc="'{:,}'.format(int(o.mnt_tot_eng)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.mnt_lbudg_ap)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
						</tbody>
                </table><br/>
				
                <table style ="width:100%;">
                    
                        <tr>
                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Objet</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Montant</th>
                            
                        </tr>                      
                   
                        <tr>
                        <td class="marge"><p t-field="o.lb_obj"/></td>
                        <td rowspan="3"><p t-field="o.mnt_eng" style = "text-align:center; font-size:small;"/></td>  
                        </tr>

                        <tr>
                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Bénéficiaire</th>
                        </tr>
                        <tr>
                            <td class="marge"><p t-field="o.no_beneficiaire"/> </td>
                        </tr>
                </table>  <br/>   
                         <table style ="width:100%;">
                         <thead style ="border : 1px solid #000000;">
	                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Pièces justificatives</th>
	                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Références</th>
								<th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Date</th>
								<th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Montant</th>
	                     </thead>
	                     <tbody>  
	                        <tr t-foreach="request.env['budg_piece_engagement'].search([('eng_id', '=', o.id)])" t-as="l">
		                        <td class="marge"><span t-esc="l.lb_long.lb_long"/></td> 
		                        <td class="marge"><span t-esc="l.ref"/></td>
								<td class="marge"><span t-esc="l.dte"/></td>
								<td style="text-align:right; font-size:small;"><span t-esc="'{:,}'.format(int(l.montant)).replace(',', ' ')" /></td>
	                        </tr>
                        </tbody>
                 </table>                   
                <br/>
                
                <strong style="font-family : Times New Roman; font-size:small;">Arrêté le présent engagement à la somme de : </strong><span t-field="o.text_amount"/> (<span t-field="o.mnt_eng"/>) francs CFA 
                        <br/><br/><br/>
                      
                        <div>
							<div style="float:left">
	                        	<strong style="font-family : Times New Roman; font-size:small;">Administrateur de crédits</strong><br/><br/><br/><br/>
								<strong style="font-family : Times New Roman; font-size:small;"><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>
								<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td>
	                 
							</div>
	                        <div style="float:right">
	                        	<strong style="font-family : Times New Roman; font-size:small;">Le Directeur Général</strong><br/><br/><br/><br/>
								<strong style="font-family : Times New Roman; font-size:small;"><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_1.name"/></td></strong><br/>
								<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_1.distinction"/></td>
	                 
	                        </div>
						</div>
                     <div>
                     </div>
                </div>
             </t>
        </t>
    </t>
</template>



<report id = "report_engagement_new_rub"
    string = "Engagement niveau rubrique"
    model = "budg_engagement"
    report_type = "qweb-html"
    file = "erp_budget.report_engagement_new_rub"
    name = "erp_budget.report_engagement_view_new_rub"
	print_report_name="'ENGAGEMENT - %s' % (object.no_eng)"
    menu = "True"/>


<template id="report_engagement_view_new_rub">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h2 class="solid">BON D'ENGAGEMENT DE DEPENSE</h2>
                     <strong>Référence bon d'engagement :</strong> <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_eng"/> du <span t-field="o.dt_etat"/>
               	<br/>
               	
               
               <div>
               	<div class="g">
                <table>
               	<th style ="border : 2px solid #000000; text-align:center;" colspan="6">Imputation</th>
               
               <tr>
	               	<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Sect</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Art</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
					<th style = "border:1px solid; height:30px; width:60px;">Rub</th>
               	</tr>
               	
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
            
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>

				   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_rubrique_id"/></td>

				</table>
               </div>
	            
	               <div class="d">
	                 <table>
		               <thead>
		                	<th style ="border : 1px solid #000000; width:250px; text-align:center;">VISA CONTROLE</th>
		               </thead>
		               <tbody>
		                    <tr style="height:150px; width:250px;"><td style="height:150px;"></td></tr>
		               </tbody>
		             </table>
	               </div>
               </div>
               
               <br/>
				

               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
                        }
                        
                        .d {
                        	float : right;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        
                        td {
                            border : 1px solid black;
                            text-align : center;
                            font-family : Times New Roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #dddddd;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	
                        }
                        
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : Times New  Roman !important;
								font-size:small;
								border : 0px solid black;
								text-indent : 10px;
								
								}
                    </style>
               </head>
				<br/>
                <table style ="width:100%;">


                        <thead>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px; text-align:center; font-size:small;">Crédits ouverts</th>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px;text-align:center; font-size:small;">Cumul des engagements antérieurs</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Crédits disponibles</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Présent engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Total des engagements</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-size:small;">Nouveau disponible</th>
                        </thead> 
                          
                        <tbody>                  
                            <td><span t-field="o.credit_eng" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.cumul)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.credit_disponible)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.mnt_eng)).replace(',', ' ')" style = "text-align:center; font-size:small;"/> </td>
                            <td><span t-esc="'{:,}'.format(int(o.mnt_tot_eng)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
                            <td><span t-esc="'{:,}'.format(int(o.mnt_lbudg_ap)).replace(',', ' ')" style = "text-align:center; font-size:small;"/></td>
						</tbody>
                </table><br/>
				
                <table style ="width:100%;">
                    
                        <tr>
                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Objet</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Montant</th>
                            
                        </tr>                      
                   
                        <tr>
                        <td class="marge"><p t-field="o.lb_obj"/></td>
                        <td rowspan="3"><p t-field="o.mnt_eng" style = "text-align:center; font-size:small;"/></td>  
                        </tr>

                        <tr>
                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Bénéficiaire</th>
                        </tr>
                        <tr>
                            <td class="marge"><p t-field="o.no_beneficiaire"/> </td>
                        </tr>
                </table>  <br/>   
                         <table style ="width:100%;">
                         <thead style ="border : 1px solid #000000;">
	                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Pièces justificatives</th>
	                            <th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Références</th>
								<th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Date</th>
								<th style = "border:1px solid; background-color: #d0d3d4; font-size:small;">Montant</th>
	                     </thead>
	                     <tbody>  
	                        <tr t-foreach="request.env['budg_piece_engagement'].search([('eng_id', '=', o.id)])" t-as="l">
		                        <td class="marge"><span t-esc="l.lb_long.lb_long"/></td> 
		                        <td class="marge"><span t-esc="l.ref"/></td>
								<td class="marge"><span t-esc="l.dte"/></td>
								<td style="text-align:right; font-size:small;"><span t-esc="'{:,}'.format(int(l.montant)).replace(',', ' ')" /></td>
	                        </tr>
                        </tbody>
                 </table>                   
                <br/>
                
                <strong style="font-family : Times New Roman; font-size:small;">Arrêté le présent engagement à la somme de : </strong><span t-field="o.text_amount"/> (<span t-field="o.mnt_eng"/>) francs CFA 
                        <br/><br/><br/>
                       
                        <div>
							<div style="float:left">
	                        	
	                        	<div style="float:right">
	                        	<strong style="font-family : Times New Roman; font-size:small;">Administrateur de crédits</strong><br/><br/><br/><br/>
								<strong><td><span style="text-align:center;text-decoration:underline; font-size:small;" t-field="o.signataire_2.name"/></td></strong><br/>
								<td><span style="text-align:center;font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td>
	                 
	                        </div>
							</div>
	                        <div style="float:right">
	                        	<strong style="font-family : Times New Roman; font-size:small;">Le Directeur Général</strong><br/><br/><br/><br/>
								<strong><td><span style="text-align:center;text-decoration:underline; font-size:small;" t-field="o.signataire_1.name"/></td></strong><br/>
								<td><span style="text-align:center;font-size:x-small; font-style:italic;" t-field="o.signataire_1.distinction"/></td>
	                 
	                        </div>
						</div>
                     <div>
                     </div>
                </div>
             </t>
        </t>
    </t>
</template>



<report id = "report_liqords_new"
    string = "Liquidation niveau paragraphe"
    model = "budg_liqord"
    report_type = "qweb-html"
    file = "erp_budget.report_liqords_new"
    name = "erp_budget.report_liqords_view_new"
	print_report_name="'LIQUIDATION - %s' % (object.no_lo)"
    menu = "True"/>

<template id="report_liqords_view_new">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h4 style="position: center;">BON DE LIQUIDATION N° <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_lo"/> du <span t-field="o.dt_etat"/></h4>
               	
               	<div>
					<div class="g">
						<table>
						<th style ="border : 2px solid #000000; text-align:center;" colspan="5">Imputation</th>
						<tr>
							<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
							<th style = "border:1px solid; height:30px; width:60px;">Sec</th>
							<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
							<th style = "border:1px solid; height:30px; width:60px;">Art</th>
							<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
						</tr>
						
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
					
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
						   
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
						   
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
						   
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>

						   
					   </table>
				   </div>          
               </div>
               
               <br/>
   
					
               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
							font-size : small;
                        }
                        
                        .d {
                        	float : right;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        
                        td {
                            border : 1px solid black;
                            font-family : Times New Roman;
							text-align : left;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #d0d3d4;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	font-family : Times New Roman;
                        }
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : times new roman;
								font-family : Times New Roman;
								font-size : small;
								border : 0px solid black;
								text-indent : 10px;
								}
                        
                    </style>
               </head>
				<br/>
               
               
               
               <table style ="width:100%;">


                        <thead>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px; text-align:center; font-family : Times New Roman; font-size : small;">Engagement</th>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px;text-align:center; font-family : Times New Roman; font-size : small;">Total liquidation sur engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman; font-size : small;">Disponible sur engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman; font-size : small;">Présente liquidation</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman; font-size : small;">Reste à liquider</th>
                        </thead> 
                          
                        <tbody>                  
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_eng"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-esc="'{:,}'.format(int(o.total_liq_engs)).replace(',', ' ')"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_eng"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_paye"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.res_liq"/></td>
                    </tbody>
                </table><br/>
               

                <table style ="width:100%;">
                    
                        <tr>
                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Objet</th>
                            <th style = "border:0px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Montant</th>
                            
                        </tr>                      
                   
                        <tr>
                        <td class="marge" ><span t-field="o.lb_obj"/></td>
                        <td class="marge" rowspan="3"><span t-field="o.mnt_eng"/></td>  
                        </tr>

                        <tr>
                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4; font-size : small;">Bénéficiaire</th>
                        </tr>
                        <tr>
                            <td class="marge"><span t-field="o.no_beneficiaire"/> </td>
                        </tr>
                </table>  <br/>
                
                  <table style ="width:100%;">
                         <thead style ="border : 0px solid #000000;">
	                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4; font-size : small;">Pièces justificatives</th>
	                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4; font-size : small;">Références</th>
	                     </thead>
	                     <tbody>  
	                        <tr t-foreach="request.env['budg_piece_liq'].search([('liq_id', '=', o.id)])" t-as="l">
		                        <td class="marge"><span t-field="l.lb_long"/></td> 
		                        <td class="marge"><span t-field="l.ref"/></td>
	                        </tr>
                        </tbody>
                 </table>                   
                <br/>
                
                <strong style="font-family : Times New Roman; font-size : small;">Arrêté la présente liquidation à la somme de :</strong> <span t-field="o.text_amount"/> (<span t-field="o.mnt_paye"/>) francs CFA
                        <br/><br/>

						
						<div style="float:right">
							<strong style="font-family : Times New Roman; font-size : small;">Administrateur de crédits</strong><br/><br/><br/><br/>
							<strong style="font-family : Times New Roman; font-size : small;"><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>
							<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td>	                 
	                    </div>
                
                </div>
            </t>
        </t>
    </t>
</template>


<report id = "report_liqords_new_rub"
    string = "Liquidation niveau rubrique"
    model = "budg_liqord"
    report_type = "qweb-html"
    file = "erp_budget.report_liqords_new_rub"
    name = "erp_budget.report_liqords_view_new_rub"
	print_report_name="'LIQUIDATION - %s' % (object.no_lo)"
    menu = "True"/>

<template id="report_liqords_view_new_rub">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h4 style="position: center;">BON DE LIQUIDATION N° <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_lo"/> du <span t-field="o.dt_etat"/></h4>
               	
               	<div>
					<div class="g">
						<table>
						<th style ="border : 2px solid #000000; text-align:center;" colspan="6">Imputation</th>
						<tr>
							<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
							<th style = "border:1px solid; height:30px; width:60px;">Sec</th>
							<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
							<th style = "border:1px solid; height:30px; width:60px;">Art</th>
							<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
							<th style = "border:1px solid; height:30px; width:60px;">Rub</th>

						</tr>
						
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
					
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
						   
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
						   
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
						   
						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>

						   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_rubrique_id"/></td>  
					   </table>
				   </div>              
               </div>
               
               <br/>
   
					
               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
							font-size : small;
                        }
                        
                        .d {
                        	float : right;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        
                        td {
                            border : 1px solid black;
                            font-family : Times New Roman;
							text-align : left;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #d0d3d4;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	font-family : Times New Roman;
                        }
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : times new roman;
								font-family : Times New Roman;
								font-size : small;
								border : 0px solid black;
								text-indent : 10px;
								}
                        
                    </style>
               </head>
				<br/>
               
               
               
               <table style ="width:100%;">


                        <thead>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px; text-align:center; font-family : Times New Roman; font-size : small;">Engagement</th>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px;text-align:center; font-family : Times New Roman; font-size : small;">Total liquidation sur engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman; font-size : small;">Disponible sur engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman; font-size : small;">Présente liquidation</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman; font-size : small;">Reste à liquider</th>
                        </thead> 
                          
                        <tbody>                  
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_eng"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-esc="'{:,}'.format(int(o.total_liq_engs)).replace(',', ' ')"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_eng"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_paye"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.res_liq"/></td>
                    </tbody>
                </table><br/>
               

                <table style ="width:100%;">
                    
                        <tr>
                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Objet</th>
                            <th style = "border:0px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Montant</th>
                            
                        </tr>                      
                   
                        <tr>
                        <td class="marge" ><span t-field="o.lb_obj"/></td>
                        <td class="marge" rowspan="3"><span t-field="o.mnt_eng"/></td>  
                        </tr>

                        <tr>
                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4;">Bénéficiaire</th>
                        </tr>
                        <tr>
                            <td class="marge"><span t-field="o.no_beneficiaire"/> </td>
                        </tr>
                </table>  <br/>
                
                  <table style ="width:100%;">
                         <thead style ="border : 0px solid #000000;">
	                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4; font-size : small;">Pièces justificatives</th>
	                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4; font-size : small;">Références</th>
	                     </thead>
	                     <tbody>  
	                        <tr t-foreach="request.env['budg_piece_liq'].search([('liq_id', '=', o.id)])" t-as="l">
		                        <td class="marge"><span t-field="l.lb_long"/></td> 
		                        <td class="marge"><span t-field="l.ref"/></td>
	                        </tr>
                        </tbody>
                 </table>                   
                <br/>
                
                <strong style="font-family : Times New Roman; font-size : small;">Arrêté la présente liquidation à la somme de :</strong> <span t-field="o.text_amount"/> (<span t-field="o.mnt_paye"/>) francs CFA
                        <br/><br/>
                        
                        <div style="float:right">
							<strong style="font-family : Times New Roman; font-size : small;">Administrateur de crédits</strong><br/><br/><br/><br/>
							<strong style="font-family : Times New Roman; font-size : small;"><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>
							<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td>	                 
	                    </div>
                
                </div>
            </t>
        </t>
    </t>
</template>




<report id = "report_mandats"
    string = "Ordonnance niveau paragraphe"
    model = "budg_mandat"
    report_type = "qweb-html"
    file = "erp_budget.report_mandats"
    name = "erp_budget.report_mandats_views"
	print_report_name="'ORDONNANCE - %s' % (object.no_mandat)"
    menu = "True"/>


<template id="report_mandats_views">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h4 class="solid">ORDONNANCE N° <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_mandat"/> du <span t-field="o.dt_etat"/></h4>
                                        
                   <h6 style="font-family : Times New Roman;">Eng. N° : <span t-field="o.no_eng"/> / Liq N° : <span t-field="o.no_lo"/></h6>

                    <div>
               	<div class="g">
                <table>
               	<th style ="border : 2px solid #000000; text-align:center;" colspan="5">Imputation</th>
               	
               	<tr>
	               	<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Sec</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Art</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
               	</tr>
               	
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
            
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>
                 

               </table>
			   </div>
				<div class="d">
				<span>En vertu des crédits inscrits au budget de l'établissement, l'Agent Comptable<br/> de l'<span t-field="o.company_id.name"/> 
				paiera la somme ci-après qui lui sera allouée en dépenses<br/> en rapportant la présente ordonnance dûment quittancée appuyée des pièces qu'elle énonce. </span>
				</div>
               </div>              

               
               <br/>
   
					
               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
							font-size : small;
                        }
                        
                        .d {
                        	float : right;
							font-size : small;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        th,
                        td {
                            border : 1px solid black;
                            text-align : center;
                            font-family : Times New Roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #d0d3d4;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	font-family : Times New Roman;
                        }
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : times new roman;
								font-family : Times New Roman;
								font-size:small;
								border : 0px solid black;
								text-indent : 10px;
								}
                        
                    </style>
               </head>
				<br/>
                <table style ="width:100%;">

                        <thead>
                        <tr>
                            <th style = "border:2px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Bénéficiaire</th>
                            <th style = "border:2px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Objet de la dépense</th>
                            <th style = "border:2px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Montant</th>
                        </tr>
                       
                            
                        </thead>                      
                        <tbody>
                        
                        	<td style = "border:1px solid; text-align:left; font-family : Times New Roman; text-indent : 10px; font-size : small;"><span t-field="o.no_beneficiaire"/> </td>
                            <td style = "border:1px solid; text-align:left; font-family : Times New Roman; font-size : small;"><span t-field="o.obj"/></td>
                            <td style = "border:1px solid; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_eng"/></td>
                        </tbody>
                        
                </table><br/>
				
				<table style ="width:100%;">
				<thead>
						<tr>
                            <th style = "border:1px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Banque</th>
                            <th style = "border:1px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">N° Compte</th>
                        </tr>
						
						<tbody>                     
						     <td style = "border:1px solid; text-align:center; font-family : Times New Roman; font-size : small;"><span t-field="o.bank_id"/></td>
                            <td style = "border:1px solid; text-align:center; font-family : Times New Roman; font-size : small;"><span t-field="o.acc_number"/></td>
                        </tbody>
				</thead>
				</table><br/>
                
                <table style ="width:100%;">
                	<thead>
                        <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Pièces justificatives</th>
                        <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Référence</th>
						<th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Date</th>
                        <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Montant</th>
                    </thead>
                    <tbody>
                        <tr t-foreach="request.env['budg_piece_ord'].search([('mandat_id', '=', o.id)])" t-as="l">
                        <td class="marge" ><span t-field="l.lb_long"/></td> 
                        <td class="marge"><span t-field="l.ref"/></td>
						<td class="marge"><span t-field="l.dte"/></td>
						<td class="marge"><span t-field="l.montant"/></td>
                        </tr>
                    </tbody>
                 </table> <br/>
                
                <strong style="font-family : Times New Roman; font-size : small;">Arrêté la présente ordonnance à la somme de : </strong><span t-field="o.text_amount"/> (<span t-field="o.mnt_ord"/>) francs CFA
                        <br/><br/><br/>                                     
                        
                        <div>
	                        <div style="float:right; font-family : Times New Roman; font-size : small;">
	                        	<strong>L'Ordonnateur</strong><br/><br/><br/><br/>
								<strong><td><span style="text-align:left;text-decoration:underline; font-size : small;" t-field="o.signataire_1"/></td></strong><br/>
								<td><span style="text-align:center;font-size:x-small; font-style:italic;" t-field="o.signataire_1.distinction"/></td>	                        
	                        </div>                        
	                        <!--<div style="float:left; font-family : Times New Roman;">
							
								<strong>Agent Comptable</strong><br/><br/><br/><br/>
								<strong><td><span style="text-align:left;text-decoration:underline;" t-field="o.signataire_2"/></td></strong><br/>
								<td><span style="text-align:center;font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td><br/>                                  
							
								<strong><span>Pour acquit de la somme mentionnée ci-dessus</span></strong>         
											
	                        </div>-->
                        </div>
				</div>
            </t>
        </t>
    </t>
</template>



<report id = "report_mandats_rub"
    string = "Ordonnance niveau rubrique"
    model = "budg_mandat"
    report_type = "qweb-html"
    file = "erp_budget.report_mandats_rub"
    name = "erp_budget.report_mandats_views_rub"
	print_report_name="'ORDONNANCE - %s' % (object.no_mandat)"
    menu = "True"/>


<template id="report_mandats_views_rub">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h4 class="solid">ORDONNANCE N° <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_mandat"/> du <span t-field="o.dt_etat"/></h4>
                                        
                   <h6 style="font-family : Times New Roman;">Eng. N° : <span t-field="o.no_eng"/> / Liq N° : <span t-field="o.no_lo"/></h6>

                    <div>
               	<div class="g">
                <table>
               	<th style ="border : 2px solid #000000; text-align:center;" colspan="6">Imputation</th>
               	
               	<tr>
	               	<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Sec</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Art</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
					<th style = "border:1px solid; height:30px; width:60px;">Rub</th>
               	</tr>
               	
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
            
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>
                 
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_rubrique_id"/></td>


               </table>
			   </div>
				<div class="d">
				<span>En vertu des crédits inscrits au budget de l'établissement, l'Agent Comptable<br/> de l'<span t-field="o.company_id.name"/> 
				paiera la somme ci-après qui lui sera allouée en dépenses<br/> en rapportant la présente ordonnance dûment quittancée appuyée des pièces qu'elle énonce. </span>
				</div>
               
               </div>
               
               <br/>
   
					
               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
							font-size : small;
                        }
                        
                        .d {
                        	float : right;
							font-size : small;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        th,
                        td {
                            border : 1px solid black;
                            text-align : center;
                            font-family : Times New Roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #d0d3d4;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	font-family : Times New Roman;
                        }
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : times new roman;
								font-family : Times New Roman;
								font-size:small;
								border : 0px solid black;
								text-indent : 10px;
								}
                        
                    </style>
               </head>
				<br/>
                <table style ="width:100%;">

                        <thead>
                        <tr>
                            <th style = "border:2px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Bénéficiaire</th>
                            <th style = "border:2px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Objet de la dépense</th>
                            <th style = "border:2px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Montant</th>
                        </tr>
                       
                            
                        </thead>                      
                        <tbody>
                        
                        	<td style = "border:1px solid; text-align:left; font-family : Times New Roman; text-indent : 10px; font-size : small;"><span t-field="o.no_beneficiaire"/> </td>
                            <td style = "border:1px solid; text-align:left; font-family : Times New Roman; font-size : small;"><span t-field="o.obj"/></td>
                            <td style = "border:1px solid; text-align:right; font-family : Times New Roman; font-size : small;"><span t-field="o.mnt_eng"/></td>
                        </tbody>
                        
                </table><br/>
				
				<table style ="width:100%;">
				<thead>
						<tr>
                            <th style = "border:1px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Banque</th>
                            <th style = "border:1px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">N° Compte</th>
                        </tr>
						
						<tbody>                     
						     <td style = "border:1px solid; text-align:center; font-family : Times New Roman; font-size : small;"><span t-field="o.bank_id"/></td>
                            <td style = "border:1px solid; text-align:center; font-family : Times New Roman; font-size : small;"><span t-field="o.num_compte"/></td>
                        </tbody>
				</thead>
				</table><br/>
                
                <table style ="width:100%;">
                	<thead>
                        <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Pièces justificatives</th>
                        <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Référence</th>
                        <th style = "border:1px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Date</th>
                        <th style = "border:1px solid; text-align:center; background-color: #d0d3d4; font-family : Times New Roman; font-size : small;">Montant</th>
					</thead>
                    <tbody>
                        <tr t-foreach="request.env['budg_piece_ord'].search([('mandat_id', '=', o.id)])" t-as="l">
                        <td class="marge"  ><span t-field="l.lb_long"/></td> 
                        <td class="marge"><span t-field="l.ref"/></td>
						<td class="marge"><span t-field="l.dte"/></td>
						<td class="marge"><span t-field="l.montant"/></td>
                        </tr>
                    </tbody>
                 </table> <br/>
                
                <strong style="font-family : Times New Roman; font-size : small;">Arrêté la présente ordonnance à la somme de : </strong><span t-field="o.text_amount"/> (<span t-field="o.mnt_ord"/>) francs CFA
                        <br/><br/><br/>                                     
                        
                        <div>
	                        <div style="float:right; font-family : Times New Roman;">
	                        	<strong>L'Ordonnateur</strong><br/><br/><br/>
								<strong><td><span style="text-align:center;text-decoration:underline; font-size : small;" t-field="o.signataire_1.name"/></td></strong><br/>
								<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_1.distinction"/></td>
	                        
	                        </div>                        
	                        <!--<div style="float:left; font-family : Times New Roman;">
							
								<strong>Agent Comptable</strong><br/><br/><br/><br/>
								<strong><td><span style="text-align:left;text-decoration:underline;" t-field="o.signataire_2"/></td></strong><br/>
								<td><span style="text-align:center;font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td><br/>                                  
							
								<strong><span>Pour acquit de la somme mentionnée ci-dessus</span></strong>         
											
	                        </div>-->
                        </div>
				</div>
            </t>
        </t>
    </t>
</template>




 <report id = "report_bordeng"
    string = "Bordereau d'engagement"
    model = "budg_bordereau_engagement"
    report_type = "qweb-html"
    file = "erp_budget.report_bordeng"
    name = "erp_budget.report_bordeng_view"
	print_report_name="'BORDEREAU ENGAGEMENT - %s' % (object.no_bord_en)"
    menu = "True"/>


<template id="report_bordeng_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4><span t-field="o.type_bord_trsm"/> N°<span t-field="o.no_bord_en"/></h4><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        th,
                        td {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                            border : 2px solid black;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                         
                        
                    </style>
               </head>
               
                        <table class="table table-sm mb32">
                              
                              <thead>
                              <tr>          
                                <th style = "border:2px solid; text-align:center;" rowspan="2">N° Eng</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Date</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Objet de la dépense</th>      	
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Bénéficiaire</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Montant</th>
                            </tr>

                              </thead>
                              <tr t-foreach="o.engagement_ids" t-as="eng">
	                             <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.no_eng"/></td>
	                             <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.dt_etat"/></td>
                               	 <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.lb_obj"/></td>                                 
                              	 <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.no_beneficiaire.nm"/></td>
                              	 <td  style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.mnt_eng)).replace(',', ' ')"/></td>
                              </tr>
                             <tr>
                               <td colspan="4">Total général du précédent bordereau</td>
                                <td style = "text-align:right;"><span t-esc="'{:,}'.format(int(o.total_prec)).replace(',', ' ')"/></td>
                             </tr>
                             <tr>
                               <td colspan="4">Total général du présent bordereau</td>
                                <td style = "text-align:right;"><span t-esc="'{:,}'.format(int(o.totaux)).replace(',', ' ')"/></td>
								
                             </tr>
                        </table>
                        
                        <strong>Arrêté le présent bordereau d'engagement à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.totaux"/>) francs CFA
                        
                        <br/><br/><br/>
                        
                        <div>	                        	                        
	                        <div style="float:right;">                  							
								<strong><span>Le Directeur de l'Administration des Finances</span></strong><br/><br/><br/><br/>
							
							<strong style="font-family : Times New Roman;"><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>
							<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td>

						</div>
							
                        </div>
                        
                     </div>
                </t>
             </t>
        </t>
</template>



<!-- Bordereau de reception cote DCMEF CG-->


<report id = "report_bordengdaf"
    string = "Bordereau engagement"
    model = "budg_bordereau_engagement_renvoi_daf"
    report_type = "qweb-html"
    file = "erp_budget.report_bordengdaf"
    name = "erp_budget.report_bordengdaf_view"
	print_report_name="'BORDEREAU ENGAGEMENT POUR DAF/DFC - %s' % (object.no_bord_en)"
    menu = "True"/>


<template id="report_bordengdaf_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4><span t-field="o.type_bord_trsm"/> N°<span t-field="o.no_bord_en"/></h4><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        th,
                        td {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                            border : 2px solid black;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                         
                        
                    </style>
               </head>
               
                        <table class="table table-sm mb32">
                              
                              <thead>
                              <tr>          
                                <th style = "border:2px solid; text-align:left;" rowspan="2">N° Eng</th>
                                <th style = "border:2px solid; text-align:left;" rowspan="2">Date</th>
                                <th style = "border:2px solid; text-align:left;" rowspan="2">Objet de la dépense</th>      	
                                <th style = "border:2px solid; text-align:left;" rowspan="2">Bénéficiaire</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Montant</th>
                            </tr>

                              </thead>
                              <tr t-foreach="o.engagement_ids" t-as="eng">
	                             <td  style = "border:2px solid; text-align:left;"><span t-esc="eng.no_eng.no_eng"/></td>
	                             <td  style = "border:2px solid; text-align:left;"><span t-esc="eng.dt_etat"/></td>
                               	 <td  style = "border:2px solid; text-align:left;"><span t-esc="eng.lb_obj"/></td>                                 
                              	 <td  style = "border:2px solid; text-align:left;"><span t-esc="eng.no_beneficiaire.nm"/></td>
                              	 <td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.mnt_eng)).replace(',', ' ')"/></td>
                              </tr>
                             <!--<tr>
                               <td colspan="4">Total général du précédent bordereau</td>
                                <td style = "text-align:right;"><span t-field="o.total_prec"/></td>
                             </tr>-->
                             <tr>
                               <td colspan="4">Total général du présent bordereau</td>
                                <td style = "text-align:right;"><span t-esc="'{:,}'.format(int(sum([eng.mnt_eng for eng in o.engagement_ids]))).replace(',', ' ')"/></td>

                             </tr>
                        </table>
                        
                        <!--<strong>Arrêté le présent bordereau d'engagement à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.totaux"/>) francs CFA-->
                        
                        <br/><br/><br/>
                                              
						<div>                       	
							<div style="float:right">
								<strong style="font-family : Times New Roman;">Pour DAF</strong><br/><br/><br/><br/>
								<strong><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>
								<td><span style="text-align:center;font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td>
				 
							</div>

	                        <div style="float:left">
	                        	<strong style="font-family : Times New Roman;">Par DCMEF/CG</strong><br/><br/><br/><br/>
								<strong><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_3.name"/></td></strong><br/>
								<td><span style="text-align:center;font-size:x-small; font-style:italic;" t-field="o.signataire_3.distinction"/></td>	                 
	                        </div>                       
						</div>
						</div>
                </t>
             </t>
        </t>
</template>




<report id = "report_bordengdrecepctrl"
    string = "Bordereau engagement"
    model = "budg_bordereau_engagement_recep_controle"
    report_type = "qweb-html"
    file = "erp_budget.report_bordengrecepctrl"
    name = "erp_budget.report_bordengrecepctrl_view"
    menu = "False"/>


<template id="report_bordengrecepctrl_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4><span t-field="o.type_bord_trsm"/> N°<span t-field="o.no_bord_en"/></h4><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        th,
                        td {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                            border : 2px solid black;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                         
                        
                    </style>
               </head>
               
                        <table class="table table-sm mb32">
                              
                              <thead>
                              <tr>          
                                <th style = "border:2px solid; text-align:center;" rowspan="2">N° Eng</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Date</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Objet de la dépense</th>      	
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Bénéficiaire</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Montant</th>
                            </tr>

                              </thead>
                              <tr t-foreach="o.engagement_ids" t-as="eng">
	                             <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.no_eng.no_eng"/></td>
	                             <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.dt_etat"/></td>
                               	 <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.lb_obj"/></td>                                 
                              	 <td  style = "border:2px solid; text-align:center;"><span t-esc="eng.no_beneficiaire.nm"/></td>
                              	 <td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.mnt_eng)).replace(',', ' ')"/></td>
                              </tr>
                             <!--<tr>
                               <td colspan="4">Total général du précédent bordereau</td>
                                <td style = "text-align:right;"><span t-field="o.total_prec"/></td>
                             </tr>-->
                             <tr>
                               <td colspan="4">Total général du présent bordereau</td>
                                <td style = "text-align:right;"><span t-esc="'{:,}'.format(int(sum([eng.mnt_eng for eng in o.engagement_ids]))).replace(',', ' ')"/></td>
                             </tr>
                        </table>
                                                
                        <br/><br/><br/>
                        

                        
                     </div>
                </t>
             </t>
        </t>
</template>




<report id = "report_bordliq"
    string = "Bordereau liquidation"
    model = "budg_bordereau_liquidation"
    report_type = "qweb-html"
    file = "erp_budget.report_bordliq"
    name = "erp_budget.report_bordliq_view"
    menu = "True"/>


<template id="report_bordliq_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2>Bordereau de liquidation N° <span t-field="o.no_bord_liq1"/></h2><br/><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
               
                        <table class="table table-sm mb32">
                          <thead>
                            <tr>
                                           
                                <th style = "border:2px solid; text-align:center;" rowspan="2">N° Liq</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Date</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Objet de la dépense</th>      	
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Bénéficiaire</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Montant</th>
                                <th style = "border:2px solid; text-align:center;" colspan="2">Engagement</th>
                            </tr>
                            
                            <tr> 
                                <th style = "border:2px solid; text-align:center;">Date Eng</th>
                                <th style = "border:2px solid; text-align:center;">Ref Eng</th>
                            </tr>
                                </thead>
                              <tr t-foreach="o.liquidation_ids" t-as="liq">
	                             <td style = "border:2px solid; text-align:center;"><span t-field="liq.no_lo"/></td>
	                             <td style = "border:2px solid; text-align:center;"><span t-field="o.date_emis"/></td>
                               	 <td style = "border:2px solid; text-align:center;"><span t-field="liq.lb_obj"/></td>
                              	 <td style = "border:2px solid; text-align:center;"><span t-field="liq.no_beneficiaire"/></td>
                              	 <td style = "border:2px solid; text-align:right;"><span t-field="liq.mnt_paye"/></td>                              
                              	 <td style = "border:2px solid;"><span t-field="liq.dt_etat"/></td>
                              	 <td style = "border:2px solid;"><span t-field="liq.no_eng"/></td>
                              </tr>
                             
                               <td colspan="6">Total général du présent bordereau</td>
                               <td><span t-field="o.totaux" t-options='{"widget": "monetary", "display_currency": o.company_currency_id}' style = "text-align:left;"/></td>
                        </table>
                          
                        
                        <strong>Arrêté le présent bordereau de liquidation à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.totaux"/>) francs CFA
                        
                        
                        <br/><br/><br/>
                        <div>
                        	<div style="float:left;">
                        		<strong>Réçu par : <br/> Le Contrôleur Financier</strong>
                        	</div>                      
	                         <div style="float:right;">
	                        	<strong><span t-if="o.company_id.ref_type_struct_id.name == 'EPE'">Le Directeur de l'Administration et des Finances:</span></strong>
	                        	<strong><span t-if="o.company_id.ref_type_struct_id.name == 'FN'">Le Directeur des Finances et de la Comptabilité:</span></strong>
	                      
	                         </div>
                        </div>
                     </div>
                </t>
             </t>
        </t>
</template>


<report id = "report_bordtitre"
    string = "Bordereau titre de recette"
    model = "budg_bord_titre_recette"
    report_type = "qweb-html"
    file = "erp_budget.report_bordtitre"
    name = "erp_budget.report_bordtitre_view"
    menu = "True"/>


<template id="report_bordtitre_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2>Bordereau de titre de recette N° <span t-field="o.no_bord_rec"/></h2><br/><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
               
                        <table class="table table-sm mb32">
                        <thead>
                            <tr>
                                           
                                <th style = "border:2px solid; text-align:center;" rowspan="2">N° Titre</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Date d'émission du titre</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Objet de la recette</th>      	
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Débiteur</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Compte</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Somme à recouvrer</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Date d'encaissement</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Observations</th>
                            </tr>
                            
                           
                              </thead>
                               <tr t-foreach="o.recette_ids" t-as="rec">
	                             <td style = "border:2px solid;"><span t-field="rec.cd_titre_recette"/></td>
	                             <td style = "border:2px solid;"><span t-field="rec.dt_rec"/></td>
                               	 <td style = "border:2px solid;"><span t-field="rec.lb_objet"/></td>
                              	 <td style = "border:2px solid;"><span t-field="rec.contribuable_id"/></td>
                              	 <td style = "border:2px solid;"><span t-field="rec.cd_paragraphe_id"/></td>
                              	 <td style = "border:2px solid;"><span t-field="rec.mnt_rec"/></td>
                              	 <td style = "border:2px solid;"></td>
                              	 <td style = "border:2px solid;"></td>
                              </tr>
                             
                               <td colspan="5">Total général du présent bordereau</td>
                               <td style = "border:2px solid; text-align:right;" colspan="3"><span t-field="o.totaux" style='text-align:right;'/></td>
                        </table>
                        
                        <strong>Arrêté le présent bordereau de titre de recette à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.totaux"/>) francs CFA

                        <br/><br/><br/>
                                               
                        <div>
                        	<div style="float:left;">
                        		<strong>Réçu par : <br/> Le Contrôleur Financier</strong>
                        	</div>                      
	                         <div style="float:right;">
	                        	<strong>Envoyé par : <br/></strong>
	                         <strong><span t-if="o.company_id.ref_type_struct_id.name == 'EPE'">Le Directeur de l'Administration et des Finances:</span></strong>
	                         <strong><span t-if="o.company_id.ref_type_struct_id.name == 'FN'">Le Directeur des Finances et de la Comptabilité:</span></strong>	                      
	                         </div>
                        </div>
                                                
                     </div>
                </t>
             </t>
        </t>
</template>


<report id = "report_bordmandats"
    string = "Bordereau d'annulation de mandat"
    model = "budg_bordereau_mandat_annule"
    report_type = "qweb-html"
    file = "erp_budget.report_bordmandats"
    name = "erp_budget.report_bordmandats_view"
    menu = "True"/>


<template id="report_bordmandats_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2>Bordereau d'annulation de mandat</h2><br/><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
               
                        <table class="table table-sm mb32">
                        <thead>
                            <tr>
                                           
                                <th style = "border:2px solid; text-align:center;" >N° Mdt</th>
                                <th style = "border:2px solid; text-align:center;" >Objet de la dépense</th>      	
                                <th style = "border:2px solid; text-align:center;" >Bénéficiaire</th>
                                <th style = "border:2px solid; text-align:center;" >Imputation</th>
                                <th style = "border:2px solid; text-align:center;" >Somme à annuler</th>
                            </tr>
                            
                              </thead>
                               <tr t-foreach="o.mandat_ids" t-as="mdt">
	                             <td style = "border:2px solid;"><span t-field="mdt.mandat_id"/></td>
                               	 <td style = "border:2px solid;"><span t-field="mdt.objet"/></td>
                              	 <td style = "border:2px solid;"><span t-field="mdt.nom"/></td>
                              	 <td style = "border:2px solid;"><span t-field="mdt.paragraphe_id"/></td>
                              	 <td style = "border:2px solid;"><span t-field="mdt.montant"/></td>
                              </tr>
                                  <td colspan="4">Total général du présent bordereau</td>
                               <td style = "border:2px solid; text-align:right;" colspan="3"><span t-field="o.totaux" style='text-align:right;' /></td>
               
                        </table>
                        
                        <strong>Arrêté le présent bordereau à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.totaux"/>) francs CFA

                        <br/><br/><br/>
                                               
                        <div>
	                         <div style="float:left;">
	                         <strong><span>L'Ordonnateur</span></strong>
	                         </div>
	                         
	                         <div style="float:right;">
	                         <strong>Date d'annulation</strong><br/>
	                         <span t-field="o.date_emis"/>
	                         </div>
                        </div>
                                                
                     </div>
                </t>
             </t>
        </t>
</template>




 <report id = "report_recette"
    string = "Titre de recette niveau rubrique"
    model = "budg_titrerecette"
    report_type = "qweb-html"
    file = "erp_budget.report_recette"
    name = "erp_budget.report_recette_view"
    menu = "True"/>

<template id="report_recette_view">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h2 class="solid">TITRE DE RECETTE</h2>
                     <strong>Référence titre de recette :</strong><span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.cd_titre_recette"/> du <span t-field="o.dt_rec"/>
               	<br/><br/>
                   <strong>Titre :</strong>               
                   <tr><span t-field="o.cd_titre_id"/> </tr><br/>
            
                   <strong>Section :</strong>
                   <tr><span t-field="o.cd_section_id"/></tr><br/>
                   
               	   <strong>Chapitre :</strong>
                   <tr><span t-field="o.cd_chapitre_id"/></tr><br/>
                   
                   <strong>Article :</strong>
                   <tr><span t-field="o.cd_article_id"/></tr><br/>
                   
                   <strong>Paragraphe :</strong>
                   <tr><span t-field="o.cd_paragraphe_id"/></tr><br/>
                   
                   <strong>Rubrique :</strong>
                   <tr><span t-field="o.cd_rubrique_id"/></tr>
               	   <br/><br/>
               	   
                    <div class="absolute">VISA CONTROLE</div>
				

               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 100px;
                                    bottom : 50px;
                                    right : 100px;
                                    weight : 150px;
                                    height : 100px;
                                    border : 3px solid;
                        }
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                    </style>
               </head>


                <table class="table table-sm mb32">
                    
                        <tr>
                            <th style = "border:2px solid;">Objet</th>
                            <th style = "border:2px solid;">Montant</th>
                            <td style = "border:2px solid;">Contribuable/Bailleur</td>
                        </tr>                      
                   
                        <tr>
                        <td style = "border:2px solid;"><p t-field="o.lb_objet"/></td>
                        <td style = "border:2px solid;"><p t-field="o.mnt_rec"/></td>  
                        <td style = "border:2px solid;"><p t-field="o.contribuable_id"/> </td>
                        </tr>
                    
                </table>
                
                <table class="table table-sm mb32">
                        <tr>
                            <th style = "border:2px solid;">Pièces justificatives</th>
                            <th style = "border:2px solid;">Référence</th>
                        </tr> 
                        <tr t-foreach="request.env['budg_piece_recette'].search([('recette_id', '=', o.id)])" t-as="l">
                        <tr>
                        <td style = "border:2px solid;" rowspan="3"><span t-field="l.lb_long"/></td> 
                        </tr>
                        <tr>
                        <td style = "border:2px solid;"><span t-field="l.ref"/></td>
                        </tr>
                        </tr>
                 </table> 
                
                <strong>Arrêté le présent titre de recette à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.mnt_rec"/>) francs CFA
                        <br/><br/>
                        
                       <div>
	                         <div style="float:right;">
	                        	<strong>L'ordonnateur</strong>
	                         </div>
                        </div>
                </div>
                
                <img t-att-src="'/report/barcode/?type=%s&amp; value=%s&amp; width=%s&amp;height=%s' %('Code128',o.cd_titre_recette, 100, 100)" alt="Barcode"/>                                          
                <span t-field="o.cd_titre_recette"/> 
            </t>
        </t>
    </t>
</template>


<report id = "report_recette"
    string = "Titre de recette niveau paragraphe"
    model = "budg_titrerecette"
    report_type = "qweb-html"
    file = "erp_budget.report_recettes"
    name = "erp_budget.report_recette_views"
    menu = "True"/>

<template id="report_recette_views">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h2 class="solid">TITRE DE RECETTE</h2>
                     <strong>Référence titre de recette :</strong><span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.cd_titre_recette"/> du <span t-field="o.dt_rec"/>
               	<br/><br/>
                   <strong>Titre :</strong>               
                   <tr><span t-field="o.cd_titre_id"/> </tr><br/>
            
                   <strong>Section :</strong>
                   <tr><span t-field="o.cd_section_id"/></tr><br/>
                   
               	   <strong>Chapitre :</strong>
                   <tr><span t-field="o.cd_chapitre_id"/></tr><br/>
                   
                   <strong>Article :</strong>
                   <tr><span t-field="o.cd_article_id"/></tr><br/>
                   
                   <strong>Paragraphe :</strong>
                   <tr><span t-field="o.cd_paragraphe_id"/></tr><br/>
                   
               	   <br/><br/>
               	   
                    <div class="absolute">VISA CONTROLE</div>
				

               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 100px;
                                    bottom : 50px;
                                    right : 100px;
                                    weight : 150px;
                                    height : 100px;
                                    border : 3px solid;
                        }
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                    </style>
               </head>


                <table class="table table-sm mb32">
                    
                        <tr>
                            <th style = "border:2px solid;">Objet</th>
                            <th style = "border:2px solid;">Montant</th>
                            <th style = "border:2px solid;">Contribuable/Bailleur</th>
                        </tr>                      
                   
                        <tr>
                        <td style = "border:2px solid;"><p t-field="o.lb_objet"/></td>
                        <td style = "border:2px solid;"><p t-field="o.mnt_rec"/></td>  
                        <td style = "border:2px solid;"><p t-field="o.contribuable_id"/> </td>
                        </tr>
                    
                </table>
                
                <table class="table table-sm mb32">
                        <tr>
                            <th style = "border:2px solid;">Pièces justificatives</th>
                            <th style = "border:2px solid;">Référence</th>
                        </tr> 
                        <tr t-foreach="request.env['budg_piece_recette'].search([('recette_id', '=', o.id)])" t-as="l">
                        <tr>
                        <td style = "border:2px solid;" rowspan="3"><span t-field="l.lb_long"/></td> 
                        </tr>
                        <tr>
                        <td style = "border:2px solid;"><span t-field="l.ref"/></td>
                        </tr>
                        </tr>
                 </table> 
                
                <strong>Arrêté le présent titre de recette à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.mnt_rec"/>) francs CFA
                        <br/><br/>
                        
                       <div>
	                         <div style="float:right;">
	                        	<strong>L'ordonnateur</strong>
	                         </div>
                        </div>
                </div>
            </t>
        </t>
    </t>
</template>



<report id = "report_balance_dep"
    string = "Balance des dépenses"
    model = "budg_balance"
    report_type = "qweb-html"
    file = "erp_budget.report_balance_dep"
    name = "erp_budget.report_balance_view"
    menu = "True"/>
    
	
    <template id="report_balance_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5><span t-field="o.concate"/></h5>
                        <h4>Exercice <span t-field="o.x_exercice_id.no_ex"/></h4> 
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h5 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h4 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table class="table table-sm mb32">
                        <thead style ="border : 2px solid #000000;">
                                <th style ="border : 2px solid #000000;">Numéro compte</th>
                                <th style ="border : 2px solid #000000;">Libellé</th>
                                <th style ="border : 2px solid #000000;">Budget</th>
                                <th style ="border : 2px solid #000000;">Engagements</th>
                                <th style ="border : 2px solid #000000;">Mandats</th>
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.balance_lines" t-as="ligne">                         
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.numero_compte"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.libelle"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.montant_budgetise)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">                                  
									<span t-esc="'{:,}'.format(int(ligne.montant_engagement)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">                               
									<span t-esc="'{:,}'.format(int(ligne.montant_mandatement)).replace(',', ' ')"/>
                                </td>                              
                             </tr>
                        </tbody>
                </table>
                <br/><br/><br/>
                <div style="float:right">
                <strong><span t-if="o.company_id.ref_type_struct_id.name == 'EPE'">Le Directeur de l'Administration et des Finances:</span></strong>
	            <strong><span t-if="o.company_id.ref_type_struct_id.name == 'FN' or 'EPE (AVEC DEROGATION)'">Le Directeur des Finances et de la Comptabilité:</span></strong>
                </div>             
            </div>
            
        </t>
    </t>
</t>
</template>

<report id = "report_balance_rec"
    string = "Balance des recettes"
    model = "budg_balance_recette"
    report_type = "qweb-html"
    file = "erp_budget.report_balance_rec"
    name = "erp_budget.report_balance_rec_view"
    menu = "True"/>
    
    <template id="report_balance_rec_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5><span t-field="o.concate"/></h5>
                        <h3>Exercice <span t-field="o.x_exercice_id.no_ex"/></h3> 
                        <head>
                        
                   <style type="text/css">
                   
                   div.absolute {position:absolute;
                                    top : 210px;
                                    bottom : 100px;
                                    right : 200px;
                                    weight : 150px;
                                    height : 150px;
                                    border : 3px solid;
                        
                        th,
                        td {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                            border : 2px solid black;
                        }

                        h5 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h3{
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table class="table table-sm mb32">
                        <thead style ="border : 2px solid #000000;">
                                <th style ="border : 2px solid #000000;">Numéro compte</th>
                                <th style ="border : 2px solid #000000;">Libellé</th>
                                <th style ="border : 2px solid #000000;">Budget</th>
                                <th style ="border : 2px solid #000000;">Recette</th>
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.balance_lines" t-as="ligne">                         
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.numero_compte"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.libelle"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.montant_budgetise)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.montant_recette)).replace(',', ' ')"/>
                                </td>
                             </tr>
                        </tbody>
                </table>
                <br/><br/><br/>
                <div style="float:right">
                	<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE' or 'EPE (AVEC DEROGATION)'">Le Directeur de l'Administration et des Finances:</span></strong>
	                <strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'FN'">Le Directeur des Finances et de la Comptabilité:</span></strong>
					<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE (AVEC DEROGATION)'">Le Directeur des Finances et de la Comptabilité:</span></strong>
	                      
                </div>
            </div>
            
        </t>
    </t>
</t>
</template>


<report id = "report_jrl_eng"
    string = "Journal des engagements"
    model = "budg_journal_eng"
    report_type = "qweb-html"
    file = "erp_budget.report_jrnl_eng"
    name = "erp_budget.report_jrnl_eng_view"
    menu = "True"/>
    
    <template id="report_jrnl_eng_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5><span t-field="o.visu"/></h5>
                        <h3>Exercice <span t-field="o.x_exercice_id.no_ex"/></h3> 
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h5{
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h3 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table class="table table-sm mb32">
                        <thead style ="border : 2px solid #000000;">
                                <th style ="border : 2px solid #000000;">Date</th>
                                <th style ="border : 2px solid #000000;">Créancier</th>
                                <th style ="border : 2px solid #000000;">Réf. Engagement</th>
                                <th style ="border : 2px solid #000000;">N° Mandat</th>
                                <th style ="border : 2px solid #000000;">Imputation</th>
                                <th style ="border : 2px solid #000000;">Engagements</th>
                                <th style ="border : 2px solid #000000;">Dégagement</th>
                                <th style ="border : 2px solid #000000;">Mandat</th>
                                <th style ="border : 2px solid #000000;">Solde</th>
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.jnl_eng_lines" t-as="ligne">                         
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.date_deb"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.creancier.nm"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.ref_eng"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.no_mandat"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.imputation.rubrique"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.mnt_eng)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.mnt_deg)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.mnt_mand)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.solde)).replace(',', ' ')"/>
                                </td>
                             </tr>
                        </tbody>
                </table>
                <br/><br/><br/>
                <div style="float:right">
                <strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE'">Le Directeur de l'Administration et des Finances:</span></strong>
	            <strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'FN'">Le Directeur des Finances et de la Comptabilité:</span></strong>
	            <strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE (AVEC DEROGATION)'">Le Directeur des Finances et de la Comptabilité:</span></strong>
                </div>             
            </div>          
        </t>
    </t>
</t>
</template>





<report id = "report_jrl_mdt"
    string = "Journal des dépenses"
    model = "budg_journal_mdt"
    report_type = "qweb-html"
    file = "erp_budget.report_jrnl_mdt"
    name = "erp_budget.report_jrnl_mdt_view"
    menu = "True"/>
    
    <template id="report_jrnl_mdt_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5><span t-field="o.visu"/></h5>
                        <h3>Exercice <span t-field="o.x_exercice_id.no_ex"/></h3> <br/><br/>
                        <head>
                        
                   <style type="text/css">
                        
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h5 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h3 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table class="table table-sm mb32">
                        <thead style ="border : 2px solid #000000;">
                                <th style ="border : 2px solid #000000;">Date</th>
                                <th style ="border : 2px solid #000000;">Créancier</th>
                                <th style ="border : 2px solid #000000;">N° Mandat</th>
                                <th style ="border : 2px solid #000000;">Imputation</th>
                                <th style ="border : 2px solid #000000;">Emission</th>
                                <th style ="border : 2px solid #000000;">Annulation</th>
                                <th style ="border : 2px solid #000000;">Solde</th>
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.jnl_mdt_lines" t-as="ligne">                         
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.date_deb"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.creancier.nm"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.no_mandat"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.imputation.rubrique"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.mnt_emis)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.mnt_annule)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.solde)).replace(',', ' ')"/>
                                </td>
                             </tr>
                        </tbody>
                </table>
                <br/><br/><br/>
                <div style="float:right">
                <strong><span>L'Ordonnateur</span></strong>
                </div>             
            </div>
            
        </t>
    </t>
</t>
</template>


<report id = "report_etat_depense_engage"
    string = "Etats des dépenses engagées non mandatées"
    model = "budg_etat_depense_engage"
    report_type = "qweb-html"
    file = "erp_budget.report_etat_depense_engage"
    name = "erp_budget.report_etat_depense_engage_view"
    menu = "True"/>
    
    <template id="report_etat_depense_engage_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5>ETAT DES DEPENSES ENGAGEES NON MANDATEES DU <span t-field="o.dt_appro_deb"/> AU <span t-field="o.dt_appro_fin"/></h5>
                        <h3>Exercice <span t-field="o.x_exercice_id.no_ex"/></h3> <br/><br/>
                        
                        <head>
                        
                   <style type="text/css">
                        
                        
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h5 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h3{
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table class="table table-sm mb32">
                        <thead style ="border : 2px solid #000000;">
								<th style ="border : 2px solid #000000;">Date</th>
                                <th style ="border : 2px solid #000000;">N° de l'acte d'engagement</th>
                                <th style ="border : 2px solid #000000;">Créancier</th>
                                <th style ="border : 2px solid #000000;">Imputation</th>
                                
                                <th style ="border : 2px solid #000000;">Montant engagé non madaté</th>
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.etadep_ids" t-as="ligne">
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.dte"/>
                                </td>							
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.no_eng"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.creancier.nm"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.imputation.rubrique"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.montant)).replace(',', ' ')"/>
                                </td>
                             </tr>
                        </tbody>
                </table>
                <br/><br/><br/>
                <div style="float:left">
                <strong><span>L'Ordonnateur</span></strong>
                </div>
                <div style="float:right">
                <strong><span t-if="o.company_id.ref_type_struct_id.name == 'EPE'">VISA DCMEF</span></strong>
                <strong><span t-if="o.company_id.ref_type_struct_id.name == 'FN'">VISA DU CONTROLEUR DE GESTION</span></strong>
                
                </div>             
            </div>
            
        </t>
    </t>
</t>
</template>


<report id = "report_etat_rest"
    string = "Etats des restes à réaliser"
    model = "budg_etat_rest"
    report_type = "qweb-html"
    file = "erp_budget.report_etat_rest"
    name = "erp_budget.report_etat_rest_view"
    menu = "True"/>
    
    <template id="report_etat_rest_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5>ETAT DES RESTES A REALISER</h5>
                        <h3>Exercice <span t-field="o.x_exercice_id.no_ex"/></h3> <br/><br/>
                        
                        <head>
                        
                   <style type="text/css">
                        
                        
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h5{
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h3 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table class="table table-sm mb32">
                        <thead style ="border : 2px solid #000000;">
                                <th style ="border : 2px solid #000000;">Nature de l'investissement</th>
                                <th style ="border : 2px solid #000000;">Budget</th>
                                <th style ="border : 2px solid #000000;">Réalisation</th>
                                <th style ="border : 2px solid #000000;">Reste à réaliser</th>
                                <th style ="border : 2px solid #000000;">Proposition de l'ordonnateur</th>
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.rest_ids" t-as="ligne">                         
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.nature.rubrique"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.budget)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.realisation)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
									<span t-esc="'{:,}'.format(int(ligne.reste)).replace(',', ' ')"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.observation"/>
                                </td>
                             </tr>
                        </tbody>
                </table>
                <br/><br/><br/>
                <div style="float:left">
                <strong><span>L'Ordonnateur</span></strong>
                </div>
                <div style="float:right">
                <strong><span t-if="o.company_id.ref_type_struct_id.name == 'EPE'">VISA DCMEF</span></strong>
                <strong><span t-if="o.company_id.ref_type_struct_id.name == 'FN'">VISA DU CONTROLEUR DE GESTION</span></strong>
                
                </div>             
            </div>
            
        </t>
    </t>
</t>
</template>






<report id = "report_ordre_paiement"
    string = "Ordre de paiement"
    model = "budg_op"
    report_type = "qweb-html"
    file = "erp_budget.report_ordre_paiement"
    name = "erp_budget.report_ordre_paiement_view"
    menu = "True"/>
    
    
        <template id="report_ordre_paiement_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4>ORDRE DE PAIEMENT</h4> <br/>
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid black;
                            text-align : center;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #dddddd;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
			   
				<div>
					<div>
						<strong>Date opération :</strong> <br/> <span t-esc = "o.date_emis"/>
					</div>
					
					<div>
						<strong>N° opération :</strong> <br/> <span t-esc = "o.no_op"/>
					</div>
					
					<div>
						<strong>Type de paiement :</strong> <br/> <span t-esc = "o.type_operation.lb_long"/>
					</div>
					
					<div>
						<strong>Mode de paiement :</strong> <br/> <span t-esc = "o.md_reglement.lb_long"/>
					</div>
				</div>
				
				<div>
					<td style = "border:0px solid; height=500px;">Bénéficiaire</td>
					<td style = "border:0px solid;">Objet</td>
					<td style = "border:0px solid;">Montant</td>
					<td style = "border:0px solid;">Pièce Just.</td>				
				</div>
				
				<div>
					<td style = "border:0px solid;"><span t-esc="o.no_beneficiaire"/></td>								
					<td style = "border:0px solid;"><span t-esc="o.lb_obj"/></td>			
					<td style = "border:0px solid; width=150px;"><span t-esc="o.mnt_op"/></td> 								
					<td style = "border:0px solid;"><span t-esc="o.piece_ids"/></td>				
				</div>
							
                <br/><br/>
				
				
                <span>Arrêté le présent ordre de paiement à la somme de :</span><span t-field="o.text_amount"/> francs CFA

                		<div>
	                       	<div style="float:left;">
	                       		<strong>L'ordonnateur</strong>
	                       	</div>                      
	                         <div style="float:right;">
	                        	<strong>La Comptabilité</strong>
	                         </div>
                        </div> 
            </div>
            
        </t>
    </t>
</t>
</template>


<record id="budget_landscape_agrege_id" model="report.paperformat">
    <field name="name">Budget Landscapes</field>
    <field name="default" eval="True"/>
    <field name="format">A4</field>
    <field name="page_height">0</field>
    <field name="page_width">0</field>
    <field name="orientation">Landscape</field>
    <field name="margin_top">10</field>
    <field name="margin_bottom">15</field>
    <field name="margin_left">7</field>
    <field name="margin_right">7</field>
    <field name="header_line" eval="False"/>
    <field name="header_spacing">3</field>
    <field name="dpi">90</field>
</record>



<report id = "report_budg_agrege"
    string = "Budget agrégé"
    model = "budg_budget_agrege"
    report_type = "qweb-html"
    file = "erp_budget.report_budg_agrege"
    name = "erp_budget.report_budg_agrege_view"
	paperformat = "budget_landscape_agrege_id"
    menu = "True"/>
    
    
    <template id="report_budg_agrege_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2>Budget <span t-field="o.budget_id.refp"/></h2>
                        <h3>Exercice <span t-field="o.x_exercice_id.no_ex"/></h3> 
                        <head>
                        
                   <style type="text/css">
                   
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table class="table table-sm mb32">
                        <thead style ="border : 2px solid #000000;">
                                <th style ="border : 2px solid #000000; text-align:center;" rowspan="1">Titre</th>
                                <th style ="border : 2px solid #000000; text-align:center;" rowspan="1">Sect</th>
                                <th style ="border : 2px solid #000000; text-align:center;" rowspan="1">Chap</th>
                                <th style ="border : 2px solid #000000; text-align:center;" rowspan="1">Art</th>
                                <th style ="border : 2px solid #000000; text-align:center;" rowspan="1">Parag</th>
                                <th style ="border : 2px solid #000000; text-align:center;" rowspan="1">Libellé</th>
                                <th style ="border : 2px solid #000000; text-align:center;" colspan="2">Exercice N-3</th>
                                <th style ="border : 2px solid #000000; text-align:center;" colspan="2">Exerice N-2</th>
                                <th style ="border : 2px solid #000000; text-align:center;" colspan="2">Exercice N-1</th>
                                <th style ="border : 2px solid #000000; text-align:center;">Montant Budgtétisé</th>
                        </thead>
                        
                         <tbody>                      
                         
                            <tr t-foreach="o.budg_budget_agrege_ids" t-as="ligne">
                          
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.titre_id"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.section_id"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.chapitre_id"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.article_id"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.paragraphe_id"/>
                                </td>
                                
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.nature"/>
                                </td>
                                
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montant1"
                                     t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montant11"
                                     t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montant2"
                                     t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montant22"
                                     t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montantp"
                                     t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montantpp"
                                     t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montant"
                                     t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                </td>
                             </tr>
                        </tbody>  
                </table>
                
                		<div>
                        	<div style="float:left;">
                        		<strong>Le Directeur Général</strong>
                        	</div>
                        </div>
                        <div>
                        	<div style="float:right;">
                        		<strong>L'Agent Comptable</strong>
                        	</div>                      
                        </div>
						
				
						
						
            </div>
            
        </t>
    </t>
</t>
</template>


<report id = "report_bordmandat"
    string = "Bordereau de mandat "
    model = "budg_bordereau_mandatement"
    report_type = "qweb-html"
    file = "erp_budget.report_bordmandat"
    name = "erp_budget.report_bordmandat_view"
    menu = "True"/>


<template id="report_bordmandat_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4>BORDEREAU DE MANDAT N° <span t-field="o.no_bord_mandat"/> DU <span t-field="o.date_emis"/></h4><br/>
                      
                      <head>
					  
					  <div class="d">
	                 <table>
		               <thead>
		                	<th style ="border : 1px solid #000000; width:250px; text-align:center;">VISA CONTROLE</th>
		               </thead>
		               <tbody>
		                    <tr style="height:150px; width:250px;"><td style="height:150px;"></td></tr>
		               </tbody>
		             </table>
	               </div>
                   <style type="text/css">
				   
				   div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }
						
						.d {
							float : right;
						}

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
                
                        <table class="table table-sm mb32">
                        <thead>
                            <tr>
                                           
                                <th style = "border:2px solid; text-align:center; font-family : times new roman;" >N° Mandat</th>
                                <th style = "border:2px solid; text-align:center; font-family : times new roman;" >Date d'émission</th>
                                <th style = "border:2px solid; text-align:center; font-family : times new roman;" >Objet de la dépense</th>      	
                                <th style = "border:2px solid; text-align:center; font-family : times new roman;" >Bénéficiaire</th>
                                <th style = "border:2px solid; text-align:center; font-family : times new roman;" >Imputation</th>
                                <th style = "border:2px solid; text-align:center; font-family : times new roman;" >Montant</th>                               
                            </tr>
                            
                           
                              </thead>
                               <tr t-foreach="o.mandat_ids" t-as="mdt">
	                             <td style = "border:2px solid; font-family : times new roman;"><span t-field="mdt.no_mandat"/></td>
	                             <td style = "border:2px solid; font-family : times new roman;"><span t-field="mdt.dt_etat"/></td>
                               	 <td style = "border:2px solid; font-family : times new roman;"><span t-field="mdt.obj"/></td>
                              	 <td style = "border:2px solid; font-family : times new roman;"><span t-field="mdt.no_beneficiaire"/></td>
                              	 <td style = "border:2px solid; font-family : times new roman;"><span t-field="mdt.cd_paragraphe_id"/></td>
                              	 <td style = "border:2px solid; font-family : times new roman; text-align:right;"><span t-field="mdt.mnt_ord"/></td>                             	
                              </tr>
							  <tr>
                             	<td style="font-family : times new roman;" colspan="4" >Total général du précédent bordereau</td>
                                <td style = "border:2px solid; text-align:right; font-family : times new roman;" colspan="3"><span t-field="o.total_prec"/></td>
							</tr>
               				<tr>
                               <td style="font-family : times new roman;" colspan="4">Total général du présent bordereau</td>
                               <td style = "border:2px solid; text-align:right;" colspan="3"><span t-field="o.totaux" style='text-align:right;'/></td>
							</tr>
                        </table>
                        
                        <strong style="font-family : times new roman;">Arrêté le présent bordereau de mandat à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.totaux"/>) F CFA

                        <br/><br/><br/>
                                               
                        <div>                       	                                        	                   
	                        <div style="float:right;">	                        	
								<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE'">Le Directeur de l'Administration et des Finances:</span></strong><br/><br/>
								<strong><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong>
							</div>	
                        </div>
                                                
                     </div>
                </t>
             </t>
        </t>
</template>


<!--<record id="budget_landscape_agrege_id" model="report.paperformat">
    <field name="name">Budget Landscapes</field>
    <field name="default" eval="True"/>
    <field name="format">A4</field>
    <field name="page_height">0</field>
    <field name="page_width">0</field>
    <field name="orientation">Landscape</field>
    <field name="margin_top">10</field>
    <field name="margin_bottom">15</field>
    <field name="margin_left">7</field>
    <field name="margin_right">7</field>
    <field name="header_line" eval="False"/>
    <field name="header_spacing">3</field>
    <field name="dpi">90</field>
</record>-->



<report id = "edition_budget_id"
    string = "Budget"
    model = "budg_budget"
    report_type = "qweb-html"
    file = "erp_budget.edition_budget"
    name = "erp_budget.edition_budget_view"
    menu = "True"/>
	

    <template id="edition_budget_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                 <t t-call="web.external_layout">
                    <div class="page">
                    
                         <div style="width:500px;border:solid 5px black;padding:5px;text-align:center;margin:auto;">
                        	<h5><span t-field="o.typebudget_id.lb_long"/> Numéro <span t-field="o.refp"/></h5>
                        	
                        </div>
                        <div style="width:500px;padding:10px;text-align:center;margin:auto;padding:10px;">
                        	
                        	<h5>Exercice <span t-field="o.x_exercice_id.no_ex"/></h5> 
                        </div>
                        
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid gray;
							font-family : times new roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        

                        h5 {
                            text-align : center;
                            color : black;
                            background-color:#DDDDDD;
							font-family : times new roman;
                        }
						.taille {
								font-size : small;
						}

                        h1 {
                            text-align : center;
							font-family : times new roman;
                        }
                        
                    </style>
               </head>
			   

				
<table width="100%">
	<tr>
		<th rowspan="2">Titre</th>
		<th rowspan="2">Sec</th>
		<th rowspan="2">Chap</th>
		<th rowspan="2">Art</th>
		<th rowspan="2">Parag</th>
		<th rowspan="2">Rub</th>
		<th rowspan="2">Libellé</th>
		<th style="width:150px; text-align:center" colspan="2" >Exercice n-3</th>
		<th style="width:150px; text-align:center" colspan="2">Exercice n-2</th>
		<th style="width:150px; text-align:center" colspan="2">Exercice Prec.</th>
		<th style="width:150px; text-align:center" rowspan="2">Montant</th>
	</tr>
	
	<tr>
		<th>Prévisions</th>
		<th>Exécutions</th>
		<th>Prévisions</th>
		<th>Exécutions</th>
		<th>Prévisions</th>
		<th>Exécutions</th>
	</tr>
		
	<t t-foreach="o.get_report_values()" t-as="doc">
		<t t-foreach="doc" t-as="titre">
			<t t-if="titre!='section'" >
				<tr style="background-color:#A4A9A9;">
					<td style="font-size:small;" colspan="6"><span t-esc="titre"/></td>
					<td style="font-size:small;" colspan="1"><span t-esc="titre_value[7]"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[0])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[1])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[2])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[3])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[4])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[5])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[6])).replace(',', ' ')"/></td>
					<!--<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[1])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[2])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[3])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[4])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[5])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[6])).replace(',', ' ')"/></td>-->

				</tr>
			</t> 
			
			<t t-else='' >
				<t t-foreach="titre_value" t-as="sect">
					<t t-foreach="sect" t-as="sec">
						<t t-if="sec!='chapitre'" >
							<tr style="background-color:#F1F4F4;">
								<td colspan="1"></td>
								<td style="font-size:small;" colspan="5"><span t-esc="sec"/></td>
								<td style="font-size:small;" colspan="1"><span t-esc="sec_value[7]"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[0])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[1])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[2])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[3])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[4])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[5])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[6])).replace(',', ' ')"/></td>
								
								
								<!--<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[1])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[2])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[3])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[4])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[5])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[6])).replace(',', ' ')"/></td>-->
							</tr>
						</t>
								 
							<t t-else='' >
								<t t-foreach="sec_value" t-as="chapt">
													
									<t t-foreach="chapt" t-as="chap">
										<t t-if="chap!='article'" >
											<tr style="background-color:#DDDDDD;">
												<td colspan="1"></td>
												<td colspan="1"></td>
												<td style="font-size:small;" colspan="4"><span t-esc="chap"/></td>
												<td style="font-size:small;" colspan="1"><span t-esc="chap_value[7]"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[0])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[1])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[2])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[3])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[4])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[5])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[6])).replace(',', ' ')"/></td>
												<!--<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[1])).replace(',', ' ')"/></td>
												<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[2])).replace(',', ' ')"/></td>
												<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[3])).replace(',', ' ')"/></td>
												<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[4])).replace(',', ' ')"/></td>
												<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[5])).replace(',', ' ')"/></td>
												<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[6])).replace(',', ' ')"/></td>-->
											</tr>
										</t> 
										
										<t t-else=''>
											<t t-foreach="chap_value" t-as="artc">
												<t t-foreach="artc" t-as="art">
													<t t-if="art!='paragraphe'" >
														<tr>
															<td colspan="1"></td>
															<td colspan="1"></td>
															<td colspan="1"></td>
															<td style="font-size:small;" colspan="3"><span t-esc="art"/></td>
															<td style="font-size:small;" colspan="1"><span t-esc="art_value[7]"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[0])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[1])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[2])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[3])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[4])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[5])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[6])).replace(',', ' ')"/></td>
															<!--<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[1])).replace(',', ' ')"/></td>
															<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[2])).replace(',', ' ')"/></td>
															<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[3])).replace(',', ' ')"/></td>
															<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[4])).replace(',', ' ')"/></td>
															<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[5])).replace(',', ' ')"/></td>
															<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[6])).replace(',', ' ')"/></td>-->

														</tr>
													</t>
													
																<t t-else="" >
																	<t t-foreach="art_value" t-as="parag">
																		<t t-foreach="parag" t-as="para">
																			<t t-if="para!='rubrique'" >
																				<tr>
																					<td colspan="1"></td>
																					<td colspan="1"></td>
																					<td colspan="1"></td>
																					<td colspan="1"></td>
																					<td style="font-size:small;" colspan="2"><span t-esc="para"/></td>
																					<td style="font-size:small;" colspan="1"><span t-esc="para_value[7]"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[0])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[1])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[2])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[3])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[4])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[5])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[6])).replace(',', ' ')"/></td>
																					<!--<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(para_value[1])).replace(',', ' ')"/></td>
																					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(para_value[2])).replace(',', ' ')"/></td>
																					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(para_value[3])).replace(',', ' ')"/></td>
																					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(para_value[4])).replace(',', ' ')"/></td>
																					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(para_value[5])).replace(',', ' ')"/></td>
																					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(para_value[6])).replace(',', ' ')"/></td>-->

																				</tr>
																			</t>
																			 
																						<t t-else="" >
																							<t t-foreach="para_value" t-as="rubr">
																								<t t-foreach="rubr" t-as="rub">
																									<tr>
																										<td colspan="1"></td>
																										<td colspan="1"></td>
																										<td colspan="1"></td>
																										<td colspan="1"></td>
																										<td colspan="1"></td>
																										<td style="font-size:small;" colspan="1"><span t-esc="rub"/></td>
																										<!--<td style="font-size:small;" colspan="1"><span t-esc="rub_value[7]"/></td>-->																										<td colspan="1"><span t-esc="rub_value[7]"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[0])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[1])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[2])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[3])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[4])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[5])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[6])).replace(',', ' ')"/></td>
																										<!--<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[1])).replace(',', ' ')"/></td>
																										<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[2])).replace(',', ' ')"/></td>
																										<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[3])).replace(',', ' ')"/></td>
																										<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[4])).replace(',', ' ')"/></td>
																										<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[5])).replace(',', ' ')"/></td>
																										<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[6])).replace(',', ' ')"/></td>-->

																									</tr>
																								</t> 
																							</t> 
																						</t> 
																		</t> 
																	</t> 
																</t>
												</t>  
											</t> 
										</t>
									</t> 
								</t> 
							</t>
					</t>
				</t>
									
			</t>
		</t>
	</t> 
</table>
					
     		  <br/>
				 		 <div>
	                        <div style="float:right;">
	                        	<strong>L'Ordonnateur</strong>
	                        </div>                        
	                        <div style="float:left">
                        	<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE'">Le Directeur de l'Administration et des Finances:</span></strong>
	                        <strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE (AVEC DEROGATION)'">Le Directeur des Finances et de la Comptabilité:</span></strong>
							<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'FN'">Le Directeur des Finances et de la Comptabilité:</span></strong>
                        </div>
            			</div>
		</div>
            
         </t>
    </t>
</t>
</template>



<report id = "edition_dep_id"
    string = "Situation exécutoire des dépenses"
    model = "budg_edition_situation_dep"
    report_type = "qweb-html"
    file = "erp_budget.edition_dep"
    name = "erp_budget.edition_dep_view"
    menu = "True"/>
	

    <template id="edition_dep_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                 <t t-call="web.external_layout">
                    <div class="page">
                    
                    <div style="width:500px;padding:10px;text-align:center;margin:auto;padding:10px;">
                        	
                        	<h5>COMPTE ADMINISTRATIF DES DEPENSES</h5> 
                        </div>
                    
                        <div style="width:500px;padding:10px;text-align:center;margin:auto;padding:10px;">
                        	
                        	<h5>Exercice <span t-field="o.x_exercice_id.no_ex"/></h5> 
                        </div>
                        
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid gray;
							font-family : times new roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        

                        h5 {
                            text-align : center;
                            color : black;
                            background-color:#DDDDDD;
							font-family : times new roman;
                        }
						.taille {
								font-size : small;
						}

                        h1 {
                            text-align : center;
							font-family : times new roman;
                        }
                        
                    </style>
               </head>
			   

				
<table width="1000">
	<tr>
		<th>Sec</th>
		<th>Chap</th>
		<th>Art</th>
		<th>Para</th>
		<th>Rub</th>
		<th>Libellé</th>
		<th>Dotations initiales</th>
		<th>Dotations corrigées</th>
		<th>Engagement</th>
		<th>Mandatement</th>
		<th>Taux de réalisation(%)</th>
		<th>Reste à mandater</th>
	</tr>
		
	<t t-foreach="o.get_report_values()" t-as="doc">
		<t t-foreach="doc" t-as="section">
			<t t-if="section!='chapitre'" >
				<tr style="background-color:#A4A9A9;">
					<td colspan="5"><span t-esc="section"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="section_value[0]"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[1])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[2])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[3])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[4])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="section_value[5]"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[6])).replace(',', ' ')"/></td>
				</tr>
			</t> 
			
			<t t-if="not section!='chapitre'" >
				<t t-foreach="section_value" t-as="chapt">
					<t t-foreach="chapt" t-as="chap">
						<t t-if="chap!='article'" >
							<tr style="background-color:#F1F4F4;">
								<td colspan="1"></td>
								<td colspan="4"><span t-esc="chap"/></td>
								<td colspan="1"><span t-esc="chap_value[0]"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[1])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[2])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[3])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[4])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="chap_value[5]"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[6])).replace(',', ' ')"/></td>
							</tr>
						</t>
						
						
						<t t-else="" >
							<t t-foreach="chap_value" t-as="article">
								<t t-foreach="article" t-as="art">
									<t t-if="art!='paragraphe'" >
										<tr style="background-color:#dddddd;">
											<td colspan="1"></td>
											<td colspan="1"></td>
											<td colspan="3"><span t-esc="art"/></td>
											<td colspan="1"><span t-esc="art_value[0]"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[1])).replace(',', ' ')"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[2])).replace(',', ' ')"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[3])).replace(',', ' ')"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[4])).replace(',', ' ')"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="art_value[5]"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[6])).replace(',', ' ')"/></td>
										</tr>
									</t>
									
									
									<t t-else="" >
										<t t-foreach="art_value" t-as="parag">
											<t t-foreach="parag" t-as="par">
												<t t-if="par!='rubrique'" >
													<tr>
														<td colspan="1"></td>
														<td colspan="1"></td>
														<td colspan="1"></td>
														<td colspan="2"><span t-esc="par"/></td>
														<td colspan="1"><span t-esc="par_value[0]"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[1])).replace(',', ' ')"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[2])).replace(',', ' ')"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[3])).replace(',', ' ')"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[4])).replace(',', ' ')"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="par_value[5]"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[6])).replace(',', ' ')"/></td>
													</tr>
												</t>
												
												
													<t t-else="" >
														<t t-foreach="par_value" t-as="rubr">
															<t t-foreach="rubr" t-as="rub">
																<tr>
																	<td colspan="1"></td>
																	<td colspan="1"></td>
																	<td colspan="1"></td>
																	<td colspan="1"></td>
																	<td colspan="1"><span t-esc="rub"/></td>
																	<td colspan="1"><span t-esc="rub_value[0]"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[1])).replace(',', ' ')"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[2])).replace(',', ' ')"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[3])).replace(',', ' ')"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[4])).replace(',', ' ')"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="rub_value[5]"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[6])).replace(',', ' ')"/></td>
																</tr>
															</t>
														</t>
													</t>
												</t>
											</t>
										</t>
									</t>
								</t>
							</t>				
						</t>
					</t>	
				</t>
			</t>
		</t>
</table>
					
		</div>
            
         </t>
    </t>
</t>
</template>



<report id = "edition_rec_id"
    string = "Situation exécutoire des recettes"
    model = "budg_edition_situation_rec"
    report_type = "qweb-html"
    file = "erp_budget.edition_rec"
    name = "erp_budget.edition_rec_view"
    menu = "True"/>
	

    <template id="edition_rec_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                 <t t-call="web.external_layout">
                    <div class="page">
                    
                        <div style="width:500px;padding:10px;text-align:center;margin:auto;padding:10px;">
                        	
                        	<h5>COMPTE ADMINISTRATIF DES RECETTES</h5> 
                        </div>
                        <div style="width:500px;padding:10px;text-align:center;margin:auto;padding:10px;">
                        	
                        	<h5>Exercice <span t-field="o.x_exercice_id.no_ex"/></h5> 
                        </div>
                        
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid gray;
							font-family : times new roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        

                        h5 {
                            text-align : center;
                            color : black;
                            background-color:#DDDDDD;
							font-family : times new roman;
                        }
						.taille {
								font-size : small;
						}

                        h1 {
                            text-align : center;
							font-family : times new roman;
                        }
                        
                    </style>
               </head>
			   

				
<table width="1000">
	<tr>
		<th>Sec</th>
		<th>Chap</th>
		<th>Art</th>
		<th>Para</th>
		<th>Rub</th>
		<th>Libellé</th>
		<th>Dotations initiales</th>
		<th>Dotations corrigées</th>
		<th>Titres émis</th>
		<th>Taux de réalisation(%)</th>
	</tr>
		
	<t t-foreach="o.get_report_values()" t-as="doc">
		<t t-foreach="doc" t-as="section">
			<t t-if="section!='chapitre'" >
				<tr style="background-color:#A4A9A9;">
					<td colspan="5"><span t-esc="section"/></td>
					<td colspan="1"><span t-esc="section_value[0]"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[1])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[2])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(section_value[3])).replace(',', ' ')"/></td>
					<td style="text-align:right" colspan="1"><span t-esc="section_value[4]"/></td>
				</tr>
			</t> 
			
			<t t-if="not section!='chapitre'" >
				<t t-foreach="section_value" t-as="chapt">
					<t t-foreach="chapt" t-as="chap">
						<t t-if="chap!='article'" >
							<tr style="background-color:#F1F4F4;">
								<td colspan="1"></td>
								<td colspan="4"><span t-esc="chap"/></td>
								<td colspan="1"><span t-esc="chap_value[0]"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[1])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[2])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[3])).replace(',', ' ')"/></td>
								<td style="text-align:right" colspan="1"><span t-esc="chap_value[4]"/></td>
							</tr>
						</t>
						
						
						<t t-else="" >
							<t t-foreach="chap_value" t-as="article">
								<t t-foreach="article" t-as="art">
									<t t-if="art!='paragraphe'" >
										<tr style="background-color:#dddddd;">
											<td colspan="1"></td>
											<td colspan="1"></td>
											<td colspan="3"><span t-esc="art"/></td>
											<td colspan="1"><span t-esc="art_value[0]"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[1])).replace(',', ' ')"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[2])).replace(',', ' ')"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(art_value[3])).replace(',', ' ')"/></td>
											<td style="text-align:right" colspan="1"><span t-esc="art_value[4]"/></td>
										</tr>
									</t>
									
									
									<t t-else="" >
										<t t-foreach="art_value" t-as="parag">
											<t t-foreach="parag" t-as="par">
												<t t-if="par!='rubrique'" >
													<tr>
														<td colspan="1"></td>
														<td colspan="1"></td>
														<td colspan="1"></td>
														<td colspan="2"><span t-esc="par"/></td>
														<td colspan="1"><span t-esc="par_value[0]"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[1])).replace(',', ' ')"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[2])).replace(',', ' ')"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(par_value[3])).replace(',', ' ')"/></td>
														<td style="text-align:right" colspan="1"><span t-esc="par_value[4]"/></td>
													</tr>
												</t>
												
												
													<t t-else="" >
														<t t-foreach="par_value" t-as="rubr">
															<t t-foreach="rubr" t-as="rub">
																<tr>
																	<td colspan="1"></td>
																	<td colspan="1"></td>
																	<td colspan="1"></td>
																	<td colspan="1"></td>
																	<td colspan="1"><span t-esc="rub"/></td>
																	<td colspan="1"><span t-esc="rub_value[0]"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[1])).replace(',', ' ')"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[2])).replace(',', ' ')"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[3])).replace(',', ' ')"/></td>
																	<td style="text-align:right" colspan="1"><span t-esc="rub_value[4]"/></td>
																</tr>
															</t>
														</t>
													</t>
												</t>
											</t>
										</t>
									</t>
								</t>
							</t>				
						</t>
					</t>	
				</t>	
			</t>
		</t>
</table>
					
		</div>
            
         </t>
    </t>
</t>
</template>



<report id = "report_liste_eng"
    string = "Liste des engagements"
    model = "budg_consul_eng"
    report_type = "qweb-html"
    file = "erp_budget.report_liste_eng"
    name = "erp_budget.report_liste_eng_view"
    menu = "True"/>
    
    <template id="report_liste_eng_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4><span t-field="o.name"/></h4>
						<div>
							<div style="float:left;">
								<h6>Date de début<span t-field="o.dte_deb"/></h6>
								<h6>Date de fin<span t-field="o.dte_fin"/></h6>
							</div>
							<div style="float:right;">
								<h6>Procédure<span t-field="o.procedure_id"/></h6>
								<h6>Etat<span t-field="o.etat"/></h6>
							</div>
						</div><br/><br/><br/><br/>						
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table>
                        <thead style ="border : 2px solid #000000;">
							<th style ="border : 2px solid #000000;">Date</th>                  
							<th style ="border : 2px solid #000000;">N° Eng</th>
							<th style ="border : 2px solid #000000;">Objet</th>
							<th style ="border : 2px solid #000000;">Rubrique</th>
							<th style ="border : 2px solid #000000;">Bénéficiaire</th>
							<th style ="border : 2px solid #000000;">Montant</th>                          
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.engagement_line" t-as="ligne">                         
                                <td style = "border:1px solid; width:50px;">
                                    <span t-esc="ligne.dte"/>
                                </td>
                                <td style = "border:1px solid; width:25px;">
                                    <span t-esc="ligne.no_eng"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.objet"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.rubrique_id.concate_rubrique"/>
                                </td>
                                <td style = "border:1px solid;">
                                    <span t-esc="ligne.beneficiaire_id.nm"/>
                                </td>
                                <td style = "border:1px solid; width:50px;">
                                    <span t-esc="ligne.montant"/>
                                </td>                               
                             </tr>
                        </tbody>
                </table>                          
            </div>
            
        </t>
    </t>
</t>
</template>


<report id = "report_liste_liq"
    string = "Liste des liquidations"
    model = "budg_consul_liq"
    report_type = "qweb-html"
    file = "erp_budget.report_liste_liq"
    name = "erp_budget.report_liste_liq_view"
    menu = "True"/>
    
    <template id="report_liste_liq_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4><span t-field="o.name"/></h4>
						<div>
							<div style="float:left;">
								<h4>Date de début<span t-field="o.dte_deb"/></h4>
								<h4>Date de fin<span t-field="o.dte_fin"/></h4>
							</div>
							<div style="float:right;">
								<h4>Etat<span t-field="o.etat"/></h4>
							</div>
						</div><br/><br/><br/><br/>				
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table>
                        <thead style ="border : 2px solid #000000;">
							<th style ="border : 2px solid #000000;">Date</th>                  
							<th style ="border : 2px solid #000000;">N° Liq</th>
							<th style ="border : 2px solid #000000;">Objet</th>
							<th style ="border : 2px solid #000000;">Rubrique</th>
							<th style ="border : 2px solid #000000;">Bénéficiaire</th>
							<th style ="border : 2px solid #000000;">Montant</th>                          
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.liquidation_line" t-as="ligne">                         
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.dte"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.no_liq"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.objet"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.rubrique_id.concate_rubrique"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.beneficiaire_id.nm"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montant"/>
                                </td>                               
                             </tr>
                        </tbody>
                </table>                          
            </div>
            
        </t>
    </t>
</t>
</template>


<report id = "report_liste_mdt"
    string = "Liste des mandats"
    model = "budg_consul_mdt"
    report_type = "qweb-html"
    file = "erp_budget.report_liste_mdt"
    name = "erp_budget.report_liste_mdt_view"
    menu = "True"/>
    
    <template id="report_liste_mdt_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4><span t-field="o.name"/></h4>
						<div>
							<div style="float:left;">
								<h4>Date de début<span t-field="o.dte_deb"/></h4>
								<h4>Date de fin<span t-field="o.dte_fin"/></h4>
							</div>
							<div style="float:right;">
								<h4>Etat<span t-field="o.etat"/></h4>
							</div>
						</div><br/><br/><br/><br/>					
                        <head>
                        
                   <style type="text/css">
                        
                        th,
                        td {
                            border : 1px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                    </style>
               </head>
                        <table>
                        <thead style ="border : 2px solid #000000;">
							<th style ="border : 2px solid #000000;">Date</th>                  
							<th style ="border : 2px solid #000000;">N° Liq</th>
							<th style ="border : 2px solid #000000;">Objet</th>
							<th style ="border : 2px solid #000000;">Rubrique</th>
							<th style ="border : 2px solid #000000;">Bénéficiaire</th>
							<th style ="border : 2px solid #000000;">Montant</th>                          
                        </thead>
                        
                         <tbody>                        
                            <tr t-foreach="o.liquidation_line" t-as="ligne">                         
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.dte"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.no_liq"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.objet"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.rubrique_id.concate_rubrique"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.beneficiaire_id.nm"/>
                                </td>
                                <td style = "border:2px solid;">
                                    <span t-esc="ligne.montant"/>
                                </td>                               
                             </tr>
                        </tbody>
                </table>                          
            </div>
            
        </t>
    </t>
</t>
</template>

<report id = "report_sit"
    string = "Situation d'exécution des dépenses"
    model = "budg_execution_depense"
    report_type = "qweb-html"
    file = "erp_budget.report_sit"
    name = "erp_budget.report_sit_view"
    menu = "True"/>


<template id="report_sit_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4> <span t-field="o.name"/></h4><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
               
                    <table>
                        <thead>
                            <tr>                             
                                <th style = "border:2px solid; text-align:center;">Sect</th>
                                <th style = "border:2px solid; text-align:center;">Chap</th>
                                <th style = "border:2px solid; text-align:center;">Art</th>      	
                                <th style = "border:2px solid; text-align:center;">Parag</th>
                                <th style = "border:2px solid; text-align:center;">Rubrique</th>
                                <th style = "border:2px solid; text-align:center; width:150px">Dotation initale</th>
								<th style = "border:2px solid; text-align:center; width:150px">Dotation corrigée</th>
								<th style = "border:2px solid; text-align:center; width:150px">Engagement</th>
								<th style = "border:2px solid; text-align:center; width:150px">Mandatement</th>
								<th style = "border:2px solid; text-align:center; width:150px">Montant disponible</th>
								<th style = "border:2px solid; text-align:center;">Taux de réalisation(%)</th>
								<th style = "border:2px solid; text-align:center; width:150px">Reste à mandater</th>
                            </tr>                               
                        </thead>
                            <tr t-foreach="o.depense_line" t-as="liq">
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.section"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.chapitre"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.article"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.paragraphe"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.rubrique"/></td>
							    <td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.initiale)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.corrige)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.engagement)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.mandat)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.dispo)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left;"><span t-field="liq.taux"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.reste)).replace(',', ' ')"/></td>								 
                            </tr>
                    </table>                      
                    </div>
                </t>
             </t>
        </t>
</template>




<report id = "report_sit_rec"
    string = "Situation d'exécution des recettes"
    model = "budg_execution_recette"
    report_type = "qweb-html"
    file = "erp_budget.report_sit_rec"
    name = "erp_budget.report_sit_rec_view"
    menu = "True"/>


<template id="report_sit_rec_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4> <span t-field="o.name"/></h4><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
               
                    <table>
                        <thead>
                            <tr>                             
                                <th style = "border:2px solid; text-align:center;">Sect</th>
                                <th style = "border:2px solid; text-align:center;">Chap</th>
                                <th style = "border:2px solid; text-align:center;">Art</th>      	
                                <th style = "border:2px solid; text-align:center;">Parag</th>
                                <th style = "border:2px solid; text-align:center;">Rubrique</th>
                                <th style = "border:2px solid; text-align:center; width:150px">Dotation initale</th>
								<th style = "border:2px solid; text-align:center; width:150px">Dotation corrigée</th>
								<th style = "border:2px solid; text-align:center; width:150px">Titre emis</th>
								<th style = "border:2px solid; text-align:center;">Taux de recouvrement(%)</th>
								<th style = "border:2px solid; text-align:center; width:150px">Reste à recouvrer</th>
                            </tr>                               
                        </thead>
                            <tr t-foreach="o.recette_line" t-as="liq">
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.section"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.chapitre"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.article"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.paragraphe"/></td>
							    <td style = "border:1px solid; text-align:left;"><span t-field="liq.rubrique"/></td>
							    <td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.initiale)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.corrige)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.emis)).replace(',', ' ')"/></td>
								<td style = "border:1px solid; text-align:left;"><span t-field="liq.taux"/></td>
								<td style = "border:1px solid; text-align:left; width:150px"><span t-esc="'{:,}'.format(int(liq.reste)).replace(',', ' ')"/></td>								 
                            </tr>
                    </table>                      
                    </div>
                </t>
             </t>
        </t>
</template>

<report id = "report_engagement_lnsp"
    string = "Bon d'Engagement"
    model = "budg_engagement"
    report_type = "qweb-html"
    file = "erp_budget.report_engagement_lnsp"
    name = "erp_budget.report_engagement_view_lnsp"
    menu = "False"/>


<template id="report_engagement_view_lnsp">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h2 class="solid">BON D'ENGAGEMENT</h2>
					 <h5 style="text-align:right;">EXERCICE : <span t-field="o.x_exercice_id"/></h5>
                     <strong>Référence bon d'engagement :</strong> <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_eng"/> du <span t-field="o.dt_etat"/>
               	<br/>
               	
               
               <div>
               	<div>
                <table>
               	<th style ="border : 2px solid #000000; text-align:center;" colspan="5">Imputation</th>
				<th style ="border : 2px solid #000000; text-align:center;" rowspan="2">Libellé</th>
               
               <tr>
	               	<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Sect</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Art</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
               	</tr>
               	
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
            
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>

				   <td><span t-field="o.cd_paragraphe_id.paragraphe.lb_long"/></td>

               </table>
               </div>				
               </div>
               
               <br/>
			   
			   <table style ="width:100%;">                   
					<tr>
						<th style = "border:1px solid; background-color: #d0d3d4;">Objet</th>                            
					</tr>                                        
					<tr>
						<td class="marge"><p t-field="o.lb_obj"/></td> 
					</tr>                      
                </table><br/>  
				
				<table style ="width:100%;">
                        <thead>
                            <th style = "border:1px solid ; width:25px; text-align:center;">Bénéficiaire/Fournisseur<br/><br/><br/><span t-field="o.no_beneficiaire" style = "text-align:center;"/></th>
                            <th style = "border:1px solid ; width:25px;text-align:center;">Directeur de l'Administration et des Finances<br/><br/><br/><br/><br/>
							<!--<span t-field="o.signataire_dfc1" style = "text-align:center;"/>--></th>
                        </thead>             
				</table>


               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
                        }
                        
                        .d {
                        	float : right;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        
                        td {
                            border : 1px solid black;
                            text-align : center;
                            font-family : Times New Roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h2 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #dddddd;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	
                        }
                        
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : Times New  Roman !important;
								border : 0px solid black;
								text-indent : 10px;
								
								}
                    </style>
               </head>
				<br/>
  
				 <table style ="width:100%;">
					 <thead style ="border : 1px solid #000000;">
							<th style = "border:1px solid; background-color: #d0d3d4;">Pièces justificatives</th>
							<th style = "border:1px solid; background-color: #d0d3d4;">Références</th>
							<th style = "border:1px solid; background-color: #d0d3d4;">Dates</th>
							<th style = "border:1px solid; background-color: #d0d3d4;">Montant</th>
					 </thead>
					 <tbody>  
						<tr t-foreach="request.env['budg_piece_engagement'].search([('eng_id', '=', o.id)])" t-as="l">
							<td class="marge"><span t-field="l.lb_long"/></td> 
							<td class="marge"><span t-field="l.ref"/></td>
							<td class="marge"><span t-field="l.dte"/></td>
							<td class="marge"><span t-field="l.montant"/></td>
						</tr>
					</tbody>
                </table>                   
                <br/>
                
                <strong style="font-family : Times New Roman;">Montant engagé en FCFA</strong><br/>
				<strong style="font-family : Times New Roman;">Chiffres : </strong><span t-field="o.mnt_eng"/><br/>
                <strong style="font-family : Times New Roman;">Lettres : </strong><span t-field="o.text_amount"/>                          
                        
						
						<table style ="width:100%;">
                        <thead>
                            <th style = "border:1px solid ; width:25px; text-align:center;">L'Ordonnateur <br/><br/><br/><br/><br/><!--<strong>
							<span style="text-align:center;text-decoration:underline;" t-field="o.signataire_dg1"/><br/><span style=" margin-left:50px; font-size:x-small; font-style:italic;" t-field="o.signataire_dg1.distinction"/></strong>--></th>

                            <th style = "border:1px solid ; width:25px;text-align:center;">VISA DCMEF<br/><br/><br/><br/><br/></th>
                        </thead> 
                          
                        <!--<tbody>                       
                            <td rowspan='6'><span t-field="o.no_beneficiaire" style = "text-align:center;"/></td>
                            <td rowspan='6'><span t-field="o.cumul" style = "text-align:center;"/></td>                            
						</tbody>-->
				</table>
						
						
                    <table style ="width:100%;">
                        <thead>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px; text-align:center;">Crédits ouverts</th>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px;text-align:center;">Crédits engagés</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center;">Présent engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center;">Total engagement</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center;">Nouveau disponible</th>
                        </thead> 
                          
                        <tbody>                  
                            <td><span t-field="o.credit_eng" style = "text-align:center;"/></td>
                            <td><span t-field="o.cumul" style = "text-align:center;"/></td>                   
                            <td><span t-field="o.mnt_eng" style = "text-align:center;"/> </td>                         
                            <td><span t-field="o.mnt_tot_eng" style = "text-align:center;"/></td>
                            <td><span t-field="o.mnt_lbudg_ap" style = "text-align:center;"/></td>
                    </tbody>
                </table><br/>
                </div>
             </t>
        </t>
    </t>
</template>


<report id = "report_liqords_lnsp"
    string = "Bordereau de Liquidation"
    model = "budg_liqord"
    report_type = "qweb-html"
    file = "erp_budget.report_liqords_lnsp"
    name = "erp_budget.report_liqords_view_lnsp"
    menu = "False"/>

<template id="report_liqords_view_lnsp">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h4 style="position: center;">BORDEREAU DE LIQUIDATION</h4>
					 <h6 style="text-align:right">EXERCICE : <span t-field="o.x_exercice_id"/> </h6>
                 
                <!--<strong>Référence bon de liquidation :</strong> <span t-field="o.company_id.code_struct"/>-<span t-field="o.x_exercice_id"/>-<span t-field="o.no_lo"/> du <span t-field="o.dt_etat"/>
               	<br/>-->
               	
               	<div>
               	<div>
                <table>
               	<th style ="border : 2px solid #000000; text-align:center;" colspan="5">Imputation</th>
                <th style ="border : 2px solid #000000; text-align:left; width:350px;" rowspan="2">Libellé</th>
               	<tr>
	               	<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Sec</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Art</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
               	</tr>
               	
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
            
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>

                   <td style="height:30px; width:60px; text-align:left;"><span t-field="o.cd_paragraphe_id.paragraphe.lb_long"/></td>

                   
               </table>
               </div>
              
	              
               </div>
               
               <br/>
			   
			   <table style ="width:100%;">                   
					<tr>
						<th style = "border:1px solid; background-color: #d0d3d4;">Objet</th>                            
					</tr>                                        
					<tr>
						<td class="marge"><p t-field="o.lb_obj"/></td> 
					</tr>                      
                </table><br/>  
				
				<table style ="width:100%;">
                        <thead>
                            <th style = "border:1px solid ; width:25px; text-align:center;">Bénéficiaire/Fournisseur<br/><br/><br/><span t-field="o.no_beneficiaire" style = "text-align:center;"/></th>
                            <th style = "border:1px solid ; width:25px;text-align:center;">Mode de règlement<br/><br/><br/><br/><br/><span t-field="o.modereg.lb_long" style = "text-align:center;"/></th>
                        </thead>             
				</table>
   
					
               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
                        }
                        
                        .d {
                        	float : right;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        
                        td {
                            border : 1px solid black;
                            font-family : Times New Roman;
							text-align : left;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #d0d3d4;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	font-family : Times New Roman;
                        }
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : times new roman;
								font-family : Times New Roman;
								border : 0px solid black;
								text-indent : 10px;
								}
                        
                    </style>
               </head>
				<br/>
               
               
               
               
                           

                
                  <table style ="width:100%;">
                         <thead style ="border : 0px solid #000000;">
	                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4;">Pièces justificatives</th>
	                            <th style = "border:0px solid; text-align:left; background-color: #d0d3d4;">Références</th>
								<th style = "border:0px solid; text-align:left; background-color: #d0d3d4;">Dates</th>
								<th style = "border:0px solid; text-align:left; background-color: #d0d3d4;">Montant</th>
	                     </thead>
	                     <tbody>  
	                        <tr t-foreach="request.env['budg_piece_liq'].search([('liq_id', '=', o.id)])" t-as="l">
		                        <td class="marge"><span t-field="l.lb_long"/></td> 
		                        <td class="marge"><span t-field="l.ref"/></td>
								<td class="marge"><span t-field="l.dte"/></td>
								<td class="marge"><span t-field="l.montant"/></td>
	                        </tr>
                        </tbody>
                 </table>                   
                <br/>
                
                <strong style="font-family : Times New Roman;">Montant liquidé en FCFA :</strong> <br/>
				<strong style="font-family : Times New Roman;">Chiffres :</strong> <span t-field="o.mnt_paye"/><br/>
				<strong style="font-family : Times New Roman;">Lettres :</strong><span t-field="o.text_amount"/>
                <br/>
				
				<table style ="width:100%;">
                        <thead>
                            <th style = "border:1px solid ; width:25px; text-align:center;">Administrateur de crédits <br/><br/><br/><br/><br/><strong><!--<span style="text-align:center;" t-field="o.signataire_dfc1"/>--></strong></th>

                            <th style = "border:1px solid ; width:25px;text-align:center;">VISA DCMEF<br/><br/><br/><br/><br/></th>
                        </thead> 
                          
                        <!--<tbody>                       
                            <td rowspan='6'><span t-field="o.no_beneficiaire" style = "text-align:center;"/></td>
                            <td rowspan='6'><span t-field="o.cumul" style = "text-align:center;"/></td>                            
						</tbody>-->
				</table>
				
				<table style ="width:100%;">
                        <thead>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px; text-align:center; font-family : Times New Roman;">Engagement</th>
                            <th style = "border:1px solid ;background-color: #d0d3d4; width:25px;text-align:center; font-family : Times New Roman;">Montant des liquidations précédentes</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman;">Présente liquidation</th>
                            <th style = "border:1px solid; background-color: #d0d3d4; width:50px;text-align:center; font-family : Times New Roman;">Reste à liquider</th>
                        </thead> 
                          
                        <tbody>                  
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman;"><span t-field="o.mnt_eng"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman;"><span t-esc="'{:,}'.format(int(o.total_liq_engs)).replace(',', ' ')"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman;"><span t-field="o.mnt_paye"/></td>
                            <td style = "border:1px solid; width:25px; text-align:right; font-family : Times New Roman;"><span t-field="o.res_liq"/></td>
                    </tbody>
                </table> <br/>
				
				<strong style="font-family : Times New Roman;">Code : <span t-field="o.no_lo"/></strong>

                </div>
            </t>
        </t>
    </t>
</template>


<report id = "report_mandats_lnsp"
    string = "Mandat de Paiement"
    model = "budg_mandat"
    report_type = "qweb-html"
    file = "erp_budget.report_mandats_lnsp"
    name = "erp_budget.report_mandats_views_lnsp"
    menu = "False"/>


<template id="report_mandats_views_lnsp">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                     <h4 class="solid">MANDAT DE PAIEMENT N° <span t-field="o.no_mandat"/></h4>
                    
               	<div>
                <table style ="width:100%;">
               	<th style ="border : 2px solid #000000; text-align:center;" colspan="5">Imputation</th>
				<th style ="border : 2px solid #000000; text-align:center;" rowspan="2">Libellé</th>
               	
               	<tr>
	               	<th style = "border:1px solid; height:30px; width:60px;">Titre</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Sec</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Chap</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Art</th>
	               	<th style = "border:1px solid; height:30px; width:60px;">Parag</th>
               	</tr>
               	
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_titre_id.titre.cd_titre"/> </td>
            
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_section_id.section.cd_section"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_chapitre_id.chapitre.cd_chapitre"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_article_id.article.cd_article"/></td>
                   
                   <td style="height:30px; width:60px; text-align:center;"><span t-field="o.cd_paragraphe_id.paragraphe.cd_paragraphe"/></td>
                   
				   <td><span t-field="o.cd_paragraphe_id.paragraphe.lb_long"/></td>


               </table>
               </div>   

               <table style ="width:100%;">                   
					<tr>
						<th style = "border:1px solid; background-color: #d0d3d4;">Objet</th>                            
					</tr>                                        
					<tr>
						<td class="marge"><p t-field="o.obj"/></td> 
					</tr>                      
                </table><br/>  
				
				<table style ="width:100%;">
                        <thead>
                            <th style = "border:1px solid ; width:25px; text-align:center;">Bénéficiaire/Fournisseur<br/><br/><br/><span t-field="o.no_beneficiaire" style = "text-align:center;"/></th>
                            <th style = "border:1px solid ; width:25px;text-align:center;">Mode de règlement: <span t-field="o.modereg.lb_long" style = "text-align:center;"/><br/>Domiciliation et cpte : <span t-field="o.bank_id"/> N° <span t-field="o.num_compte"/> <br/> Pour acquit de la somme mentionnée ci-dessous</th>
                        </thead>             
				</table>		   
			   
               <br/>
   
					
               <head>
                   <style type="text/css">
                        div.absolute {position:absolute;
                                    top : 150px;
                                    bottom : 75px;
                                    right : 100px;
                                    weight : 200px;
                                    height : 150px;
                                    border : 3px solid;
                        }
                        .g {
                        	float : left;
                        }
                        
                        .d {
                        	float : right;
                        }
                        
                        .c {
                        	float : center;
                        }
                        
                        th,
                        td {
                            border : 1px solid black;
                            text-align : center;
                            font-family : Times New Roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #d0d3d4;
                            font-family : Times New Roman;
                        }

                        h1 {
                            text-align : center;
                        }
                        
                        .taille1 {
                        	font-size : small;
                        	font-family : Times New Roman;
                        }
						
						.marge {
								margin-left: 5em;
								text-align : left;
								font-family : times new roman;
								font-family : Times New Roman;
								border : 0px solid black;
								text-indent : 10px;
								}
                        
                    </style>
               </head>
				<br/>
                
                <table style ="width:100%;">
                	<thead>
                         <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman;">Pièces justificatives</th>
                         <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman;">Référence</th>
						 <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman;">Dates</th>
						 <th style = "border:2px solid; text-align:left; background-color: #d0d3d4; font-family : Times New Roman;">Montant</th>
                    </thead>
                    <tbody>
                        <tr t-foreach="request.env['budg_piece_ord'].search([('mandat_id', '=', o.id)])" t-as="l">
                        <td class="marge" ><span t-field="l.lb_long"/></td> 
                        <td class="marge"><span t-field="l.ref"/></td>
						<td class="marge"><span t-field="l.dte"/></td>
						<td class="marge"><span t-field="l.montant"/></td>
                        </tr>
                    </tbody>
                 </table> <br/>
                
                <strong style="font-family : Times New Roman;">Montant à payer en FCFA : </strong><br/>
				<strong style="font-family : Times New Roman;">Chiffres : </strong><span t-field="o.mnt_ord"/><br/>
				<strong style="font-family : Times New Roman;">Lettres : </strong><span t-field="o.text_amount"/>
                <br/>

				<table style ="width:100%;">
					<thead>
                        <th style = "border:1px solid ; width:25px; text-align:center;">Ordonnateur <br/><br/><br/><br/><br/><strong><!--<span style="text-align:center;text-decoration:underline;" t-field="o.signataire_dg1"/>--><br/><!--<span style=" margin-left:50px; font-size:x-small; font-style:italic;" t-field="o.signataire_dg1.distinction"/>--></strong></th>

						<th style = "border:1px solid ; width:25px;text-align:center;">VISA DCMEF<br/><br/><br/><br/><br/></th>
					</thead> 
					  
					<!--<tbody>                       
						<td rowspan='6'><span t-field="o.no_beneficiaire" style = "text-align:center;"/></td>
						<td rowspan='6'><span t-field="o.cumul" style = "text-align:center;"/></td>                            
					</tbody>-->
				</table>
				
				<table style ="width:100%;">
					<thead>
						<th style = "border:1px solid ; width:25px; text-align:center;">Agent comptable<br/><br/><br/><br/><br/></th>
					</thead> 				
				</table>

				</div>
            </t>
        </t>
    </t>
</template>



<report id = "report_bordmdt"
    string = "Bordereau de mandat"
    model = "budg_bordereau_mandatement_controle_viser"
    report_type = "qweb-html"
    file = "erp_budget.report_bordmdt"
    name = "erp_budget.report_bordmdt_view"
    menu = "False"/>


<template id="report_bordmdt_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h4><span t-field="o.type_bord_trsm"/> N°<span t-field="o.no_bord_en"/></h4><br/><br/>
                      
                      <head>
                   <style type="text/css">
                        th,
                        td {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                            border : 2px solid black;
                        }

                        h4 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: grey;
                        }

                         
                        
                    </style>
               </head>
               
                        <table class="table table-sm mb32">
                              
                              <thead>
                              <tr>          
                                <th style = "border:2px solid; text-align:center;" rowspan="2">N° Mdt</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Date</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Objet de la dépense</th>      	
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Bénéficiaire</th>
                                <th style = "border:2px solid; text-align:center;" rowspan="2">Montant</th>
                            </tr>

                              </thead>
                            <tr t-foreach="o.mandat_ids" t-as="mdt">
	                            <td  style = "border:1px solid; text-align:center;"><span t-esc="mdt.no_mandat"/></td>
	                            <td  style = "border:1px solid; text-align:center;"><span t-esc="mdt.dt_etat"/></td>
                               	<td  style = "border:1px solid; text-align:center;"><span t-esc="mdt.obj"/></td>                                 
                              	<td  style = "border:1px solid; text-align:center;"><span t-esc="mdt.no_beneficiaire"/></td>
                              	<td  style = "border:1px solid; text-align:right;"><span t-esc="'{:,}'.format(int(mdt.mnt_ord)).replace(',', ' ')"/></td>
                            </tr>
                            <tr>
								<td colspan="4">Total général du présent bordereau</td>
								<td style = "text-align:right;"><span t-esc="'{:,}'.format(int(o.totaux)).replace(',', ' ')"/></td>							
                            </tr>
                        </table>
                        
                        <strong>Arrêté le présent bordereau de mandat à la somme de : </strong><span t-field="o.text_amount"/>(<span t-field="o.totaux"/>) francs CFA
                        
                        <br/><br/><br/>
                        
                        <div>	                        	                        
	                        <div style="float:left;">                  							
								<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE'">Le Directeur de l'Administration et des Finances</span></strong><br/><br/>
								<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'FN'">Le Directeur des Finances et de la Comptabilité</span></strong><br/><br/>
								<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE (AVEC DEROGATION)'">Le Directeur des Finances et de la Comptabilité</span></strong><br/><br/>
	                        	<strong><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>
							</div>
							
							<div style="float:right;">										
								<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE'">L'Agent Comptable</span></strong><br/><br/>
								<strong><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>								
	                        </div>
                        </div>
                        
                     </div>
                </t>
             </t>
        </t>
</template>


<report id = "imprimer"
    string = "Etat d'exécution des dépenses"
    model = "budg_imprimer"
    report_type = "qweb-html"
    file = "erp_budget.imprimer"
    name = "erp_budget.imprimer_view"
    menu = "True"/>
	

    <template id="imprimer_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                 <t t-call="web.external_layout">
                    <div class="page">
                    
                        <div style="width:500px;border:solid 5px black;padding:5px;text-align:center;margin:auto;"> <span t-field="o.name"/> du <span t-field="o.dte_debut"/> au <span t-field="o.dte_fin"/>
                        	
                        </div>
       
                        
                        <head>
                        
                   <style type="text/css">
                        
                        
                        td,th {
                            border : 1px solid gray;
							font-family : times new roman;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        

                        h5 {
                            text-align : center;
                            color : black;
                            background-color:#DDDDDD;
							font-family : times new roman;
                        }
						.taille {
								font-size : small;
						}

                        h1 {
                            text-align : center;
							font-family : times new roman;
                        }
                        
                    </style>
               </head>
			   

				
<table width="100%">
	<thead>
		<tr>
			<th style="width:40px">Tit</th>
			<th style="width:40px">Sec</th>
			<th style="width:40px">Chap</th>
			<th style="width:40px">Art</th>
			<th style="width:45px">Parg</th>
			<th style="width:50px">Rub</th>
			<th style="width:200px" >Libellé</th>
			<th style="width:100px" >Dotations initales</th>
			<th style="width:100px" >Dotations corrigées</th>
			<th style="width:100px" >Dépenses engagées</th>
			<th style="width:100px" >Dépenses liquidées</th>
			<th style="width:100px" >Dépenses mandatées</th>
			<th style="width:75px" >Taux d'exécut°</th>
		</tr>
	</thead>
		
	<t t-foreach="o.get_report_values()" t-as="doc">
		<t t-foreach="doc" t-as="titre">
			<t t-if="titre!='section'" >
				<tr style="background-color:#A4A9A9;">
					<td colspan="6" style="font-size:small;"><span t-esc="titre"/></td>
					<td colspan="1" style="text-align:left; font-size:small;"><span t-esc="titre_value[0]"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[1])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[2])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[3])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[4])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(titre_value[5])).replace(',', ' ')"/></td>
					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="titre_value[6]"/>%</td>

				</tr>
			</t> 
			
			<t t-else='' >
				<t t-foreach="titre_value" t-as="sect">
					<t t-foreach="sect" t-as="sec">
						<t t-if="sec!='chapitre'" >
							<tr style="background-color:#F1F4F4;">
								<td colspan="1" style="font-size:small;"></td>
								<td colspan="5" style="font-size:small;"><span t-esc="sec"/></td>
								<td colspan="1" style="text-align:left; font-size:small;"><span t-esc="sec_value[0]"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[1])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[2])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[3])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[4])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(sec_value[5])).replace(',', ' ')"/></td>
								<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="sec_value[6]"/>%</td>

							</tr>
						</t>
								 
							<t t-else='' >
								<t t-foreach="sec_value" t-as="chapt">
													
									<t t-foreach="chapt" t-as="chap">
										<t t-if="chap!='article'" >
											<tr style="background-color:#DDDDDD;">
												<td colspan="1" style="font-size:small;"></td>
												<td colspan="1" style="font-size:small;"></td>
												<td colspan="4" style="font-size:small;"><span t-esc="chap"/></td>
												<td colspan="1" style="text-align:left; font-size:small;"><span t-esc="chap_value[0]"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[1])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[2])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[3])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[4])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(chap_value[5])).replace(',', ' ')"/></td>
												<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="chap_value[6]"/>%</td>
											</tr>
										</t> 
										
										<t t-else=''>
											<t t-foreach="chap_value" t-as="artc">
												<t t-foreach="artc" t-as="art">
													<t t-if="art!='paragraphe'" >
														<tr>
															<td colspan="1" style="font-size:small;"></td>
															<td colspan="1" style="font-size:small;"></td>
															<td colspan="1" style="font-size:small;"></td>
															<td colspan="3" style="font-size:small;"><span t-esc="art"/></td>
															<td colspan="1" style="text-align:left; font-size:small;"><span t-esc="art_value[0]"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[1])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[2])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[3])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[4])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(art_value[5])).replace(',', ' ')"/></td>
															<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="art_value[6]"/>%</td>

														</tr>
													</t>
													
																<t t-else="" >
																	<t t-foreach="art_value" t-as="parag">
																		<t t-foreach="parag" t-as="para">
																			<t t-if="para!='rubrique'" >
																				<tr>
																					<td colspan="1" style="font-size:small;"></td>
																					<td colspan="1" style="font-size:small;"></td>
																					<td colspan="1" style="font-size:small;"></td>
																					<td colspan="1" style="font-size:small;"></td>
																					<td colspan="2" style="font-size:small;"><span t-esc="para"/></td>
																					<td style="text-align:left; font-size:small;" colspan="1"><span t-esc="para_value[0]"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[1])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[2])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[3])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[4])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(para_value[5])).replace(',', ' ')"/></td>
																					<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="para_value[6]"/>%</td>

																				</tr>
																			</t>
																			 
																						<t t-else="" >
																							<t t-foreach="para_value" t-as="rubr">
																								<t t-foreach="rubr" t-as="rub">
																									<tr>
																										<td colspan="1" style="font-size:small;"></td>
																										<td colspan="1" style="font-size:small;"></td>
																										<td colspan="1" style="font-size:small;"></td>
																										<td colspan="1" style="font-size:small;"></td>
																										<td colspan="1" style="font-size:small;"></td>
																										<td style="font-size:small;"><span t-esc="rub"/></td>
																										<td style="text-align:left; font-size:small;" colspan="1"><span t-esc="rub_value[0]"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[1])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[2])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[3])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[4])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="'{:,}'.format(int(rub_value[5])).replace(',', ' ')"/></td>
																										<td style="text-align:right; font-size:small;" colspan="1"><span t-esc="rub_value[6]"/>%</td>

																									</tr>
																								</t> 
																							</t> 
																						</t> 
																		</t> 
																	</t> 
																</t>
												</t>  
											</t> 
										</t>
									</t> 
								</t> 
							</t>
					</t>
				</t>
									
			</t>
		</t>
	</t> 
</table>
					
     		<br/>
			<!--<div>
				<div style="float:right;">
					<strong>L'Ordonnateur</strong>
				</div>                        
				<div style="float:left">
					<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE'">Le Directeur de l'Administration et des Finances:</span></strong>
					<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'EPE (AVEC DEROGATION)'">Le Directeur des Finances et de la Comptabilité:</span></strong>
					<strong><span t-if="o.company_id.ref_type_struct_id.lib_court == 'FN'">Le Directeur des Finances et de la Comptabilité:</span></strong>
				</div>
			</div>-->
		</div>
            
         </t>
    </t>
</t>
</template>



<report id = "report_fichedep1"
    string = "Fiche"
    model = "budg_fiche_compte"
    report_type = "qweb-html"
    file = "erp_budget.report_fichedep1"
    name = "erp_budget.report_fichedep1_view"
    menu = "True"/>


<template id="report_fichedep1_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
					<h4>FICHE DU COMPTE <span t-field="o.numero_compte"/></h4><br/><br/><br/><br/>
					<head>
						<style type="text/css">
							th,
							td {
								border : 2px solid black;
							}

							table {
								border-collapse : collapse;
							}

							td {
								padding : 6px;
								border : 2px solid black;
							}

							h4 {
								text-align : center;
								color : black;
								border : 2px solid;
								background-color: grey;
							}
							
							#g{
								position: absolute; 
								top: 0; 
								left: 0; 
								width: 150px;
							}
							
							#d{
								position: absolute; 
								top: 0; 
								right: 0; 
								width: 500px;	
							}
							
							#c{
								margin-left: 50px; 
								margin_right 150px: 
								
							}
						</style>
					</head>
										
                        			
                        <div id="g">						
							<strong>Budget inital<span t-field="o.budget_initial"/></strong>
						</div>
						<div id="c">
							<strong>Annulation<span t-field="o.annulation"/></strong>
						</div>
						<div id="d">
							<strong>Budget corrigé<span t-field="o.budget_corrige"/></strong>
						</div>
						<br/><br/>                     
                      
               
                        <table style='width:100%'>
                              
                            <thead>
								<tr>
									<th style = "border:2px solid; text-align:center;">Date</th>								
									<th style = "border:2px solid; text-align:center;">N° Eng/Mdt</th>
									<th style = "border:2px solid; text-align:center;">Emission Eng.(1)</th>
									<th style = "border:2px solid; text-align:center;">Annulation Eng.(2)</th>
									<th style = "border:2px solid; text-align:center;">Cumul(3=1-2)</th>
									<th style = "border:2px solid; text-align:center;">Emission Mdt.(4)</th>
									<th style = "border:2px solid; text-align:center;">Annulation Mdt.(5)</th>
									<th style = "border:2px solid; text-align:center;">Cumul(6=5-4)</th>									
									<th style = "border:2px solid; text-align:center;">Cumuls généraux (7=6+3)</th>      	
								</tr>
                            </thead>
							<tbody>
								<tr t-foreach="o.fiche_lines" t-as="eng">
									<td style = "border:2px solid; text-align:center;"><span t-esc="eng.date_eng"/></td>
									<td style = "border:2px solid; text-align:center;"><span t-esc="eng.numero_eng"/></td>
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.montant_eng)).replace(',', ' ')"/></td>                                 
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.montant_ann)).replace(',', ' ')" /></td>
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.cumul_eng)).replace(',', ' ')"/></td>
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.montant_mand)).replace(',', ' ')"/></td>
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.montant_mand_ann)).replace(',', ' ')"/></td>
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.cumul_mand)).replace(',', ' ')"/></td>
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(eng.cumulg)).replace(',', ' ')"/></td>

								</tr>
							</tbody>
                        </table>                                                                                          
                     </div>
                </t>
             </t>
        </t>
</template>


<report id = "report_ficherec1"
    string = "Fiche"
    model = "budg_fiche_compte_rec"
    report_type = "qweb-html"
    file = "erp_budget.report_ficherec1"
    name = "erp_budget.report_ficherec1_view"
    menu = "True"/>


<template id="report_ficherec1_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
					<head>
						<style type="text/css">
							th,
							td {
								border : 2px solid black;
							}

							table {
								border-collapse : collapse;
							}

							td {
								padding : 6px;
								border : 2px solid black;
							}

							h4 {
								text-align : center;
								color : black;
								border : 2px solid;
								background-color: grey;
							}                                                 
						</style>
					</head>
										
                        <div>
						<span t-field="o.numero_compte"/> 
						<span t-field="o.budget_initial"/>
						<span t-field="o.annulation"/>
						<span t-field="o.budget_corrige"/>
						</div>
						<br/><br/>                      
                      
               
                        <table style='width:100%'>
                              
                            <thead>
								<tr>
									<th style = "border:2px solid; text-align:center;">Date</th>								
									<th style = "border:2px solid; text-align:center;">N° Titre</th>
									<th style = "border:2px solid; text-align:center;">Emission(1)</th>
									<th style = "border:2px solid; text-align:center;">Annulation(2)</th>
									<th style = "border:2px solid; text-align:center;">Cumul(3=1-2)</th>
								</tr>
                            </thead>
							<tbody>
								<tr t-foreach="o.fiche_lines" t-as="tit">
									<td style = "border:2px solid; text-align:center;"><span t-esc="tit.date_rec"/></td>
									<td style = "border:2px solid; text-align:center;"><span t-esc="tit.numero_titre"/></td>
									<td style = "border:2px solid; text-align:center;"><span t-esc="'{:,}'.format(int(tit.montant_rec)).replace(',', ' ')"/></td>                                 
									<td style = "border:2px solid; text-align:center;"><span t-esc="'{:,}'.format(int(tit.mnt_ann)).replace(',', ' ')" /></td>
									<td style = "border:2px solid; text-align:right;"><span t-esc="'{:,}'.format(int(tit.cumul)).replace(',', ' ')"/></td>								
								</tr>
							</tbody>
                        </table>                                                                                          
                     </div>
                </t>
             </t>
        </t>
</template>


<record id="bord_id" model="report.paperformat">
    <field name="name">Bord</field>
    <field name="default" eval="True"/>
    <field name="format">A4</field>
    <field name="page_height">0</field>
    <field name="page_width">0</field>
    <field name="orientation">Landscape</field>
    <field name="margin_top">40</field>
    <field name="margin_bottom">28</field>
    <field name="margin_left">7</field>
    <field name="margin_right">7</field>
    <field name="header_line" eval="False"/>
    <field name="header_spacing">3</field>
    <field name="dpi">90</field>
</record>




<report id = "report_bordmandatsss"
    string = "Bordereau d'émission d'ordonnnance"
    model = "budg_bordereau_mandatement_recep_dcmef"
    report_type = "qweb-html"
    file = "erp_budget.report_bordmandatsss"
    name = "erp_budget.report_bordmandatsss_view"
    menu = "True"/>


<template id="report_bordmandatsss_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5>BORDEREAU D'EMISSION D'ORDONNANCE N°<span t-field="o.no_bord_mandat"/></h5><br/>
                      
                      <head>
                   <style type="text/css">
				   
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h5 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #dddddd;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
               
                        <table style="width:100%">
                        <thead>
                            <tr>
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:5%;" rowspan="2">Date Ord.</th>
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:5%;" rowspan="2">N° Ord.</th>                                
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:32%;" rowspan="2">Objet de la dépense</th>      	
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:20%;" rowspan="2">Bénéficiaire</th>
								<th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:6%;" rowspan="2">Imput.</th>
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:12%;" rowspan="2">Montant</th>  
								<th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:20%;" colspan="2">Agent Comptable</th>  								
                            </tr>
							<tr>
								<th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:x-small;" >Date paiement</th>
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:x-small;" >Observation</th>                                                    
							</tr>
                        </thead>
							<tr t-foreach="o.mandat_ids" t-as="mdt">
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.dt_etat"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.no_mandat"/></td>	      
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.obj"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.no_beneficiaire"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.cd_paragraphe_id"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small;text-align:right;"><span t-field="mdt.mnt_ord"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small; text-align:right;"></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small; text-align:right;"></td>								 
							</tr>
							
							<tr>
								<td colspan="5" style=" font-size:small; border:1px solid;">Total du présent bordereau</td>
								<td style = "text-align:right; font-size:small; border:1px solid;"><span t-esc="'{:,}'.format(int(o.totaux)).replace(',', ' ')"/></td>									
								<td style = "border:1px solid; font-family : times new roman; text-align:center;" rowspan="3" colspan="2"><b>Date d'émission</b> <br/><span t-field="o.date_envoi"/></td>	
							</tr>
							
							<tr>
                                <td colspan="5" style=" border:1px solid;font-size:small;">Total du précédent bordereau</td>
                                <td style = "font-size:small; border:1px solid; text-align:right;"><span t-esc="'{:,}'.format(int(o.total_prec)).replace(',', ' ')"/></td>
							</tr>
							
							<tr>
                                <td colspan="5" style=" font-size:small; border:1px solid;">Total général du présent bordereau</td>
                                <td style = " font-size:small; border:1px solid; text-align:right;"><span t-esc="'{:,}'.format(int(o.total_gle)).replace(',', ' ')"/></td> 

							</tr>
							
							
							
							</table><br/>
                        
                        <span style="font-size:small;"><b>Arrêté le présent bordereau à la somme de :</b> </span> <span style = "font-size:small;" t-field="o.text_amount"/> (<span t-field="o.totaux"/>) <span style = "font-size:small;">francs CFA</span>
                        
                        <br/><br/><br/>
                        
                                               					
						<div style="float:right;">	                        										
							<strong style="font-family : Times New Roman;  font-size:small;">L'ordonnateur</strong><br/><br/><br/>
							<strong style="font-family : Times New Roman; font-size:small;"><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_2.name"/></td></strong><br/>
							<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_2.distinction"/></td>
						</div>
                                                
                     </div>
                </t>
             </t>
        </t>
</template>





<report id = "report_bordmandatrej"
    string = "Bordereau de rejet d'ordonnnance"
    model = "budg_bordereau_mandatement_rejet_ac"
    report_type = "qweb-html"
    file = "erp_budget.report_bordmandatrej"
    name = "erp_budget.report_bordmandatrej_view"
    menu = "True"/>


<template id="report_bordmandatrej_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h5>BORDEREAU DE REJET D'ORDONNANCE N°<span t-field="o.no_bord_en"/></h5><br/>
                      
                      <head>
                   <style type="text/css">
				   
                        
                        td {
                            border : 2px solid black;
                        }
                        
                         th {
                            border : 2px solid black;
                        }

                        table {
                            border-collapse : collapse;
                        }

                        td {
                            padding : 6px;
                        }

                        h5 {
                            text-align : center;
                            color : black;
                            border : 2px solid;
                            background-color: #dddddd;
                        }

                        h1 {
                            text-align : center;
                        }     
                        
                    </style>
               </head>
               
                        <table style="width:100%">
                        <thead>
                            <tr>
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:5%;">Date Ord.</th>
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:5%;">N° Ord.</th>                                
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:32%;">Objet</th>      	
								<th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:10%;">Motif du rejet</th>
								<th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:18%;">Commentaire</th>
                                <th style = "border:1px solid; text-align:center; font-family : times new roman; font-size:small; width:10%;">Montant</th>  
							</tr>

                        </thead>
							<tr t-foreach="o.mandat_ids" t-as="mdt">
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.dt_etat"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.no_mdt"/></td>	      
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.lb_obj"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.motif_rejet"/></td>
								<td style = "border:1px solid; font-family : times new roman; font-size:small;"><span t-field="mdt.commentaire"/></td>								 
								<td style = "border:1px solid; font-family : times new roman; font-size:small;text-align:right;"><span t-esc="'{:,}'.format(int(mdt.mnt_ord)).replace(',', ' ')"/></td>
							</tr>
							
							<tr>
								<td colspan="5" style=" font-size:small; border:1px solid;">Total du présent bordereau</td>
								<td style = "text-align:right; font-size:small; border:1px solid;"><span t-esc="'{:,}'.format(int(o.totaux)).replace(',', ' ')"/></td>									
							</tr>
							</table><br/>
                        
                        <span style="font-size:small;"><b>Arrêté le présent bordereau à la somme de :</b> </span> <span style = "font-size:small;" t-field="o.text_amount"/> (<span t-field="o.totaux"/>) <span style = "font-size:small;">francs CFA</span>
                        
                        <br/><br/><br/>
                       
                                               					
						<div style="float:right;">	                        										
							<strong style="font-family : Times New Roman;  font-size:small;">L'Agent comptable</strong><br/><br/><br/>
							<strong style="font-family : Times New Roman; font-size:small;"><td><span style="text-align:center;text-decoration:underline;" t-field="o.signataire_4.name"/></td></strong><br/>
							<td><span style="text-align:center; font-size:x-small; font-style:italic;" t-field="o.signataire_4.distinction"/></td>
						</div>
                                                
                     </div>
                </t>
             </t>
        </t>
</template>



    
</odoo>
